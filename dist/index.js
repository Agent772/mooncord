(()=>{var e={1299:function(e,s){!function(e,i){true?i(s):0}(this,(function(e){"use strict";class t extends Error{constructor(e){super(null!=e?`Timed out after waiting for ${e} ms`:"Timed out"),Object.setPrototypeOf(this,t.prototype)}}const o=(e,s)=>new Promise(((i,a)=>{try{e.schedule(i,s)}catch(e){a(e)}})),s={schedule:(e,s)=>{let i;const n=e=>{null!=e&&clearTimeout(e),i=void 0};return i=setTimeout((()=>{n(i),e()}),s),{cancel:()=>n(i)}}},i=Number.POSITIVE_INFINITY,r=(e,a,c)=>{var u,l;const h=null!==(u="number"==typeof a?a:null==a?void 0:a.timeout)&&void 0!==u?u:5e3,d=null!==(l="number"==typeof a?c:null==a?void 0:a.intervalBetweenAttempts)&&void 0!==l?l:50;let p=!1;const f=()=>new Promise(((i,a)=>{const r=()=>{p||new Promise(((s,i)=>{try{s(e())}catch(e){i(e)}})).then((e=>{e?i(e):o(s,d).then(r).catch(a)})).catch(a)};r()})),m=h!==i?()=>o(s,h).then((()=>{throw p=!0,new t(h)})):void 0;return null!=m?Promise.race([f(),m()]):f()};e.DEFAULT_INTERVAL_BETWEEN_ATTEMPTS_IN_MS=50,e.DEFAULT_TIMEOUT_IN_MS=5e3,e.TimeoutError=t,e.WAIT_FOREVER=i,e.default=r,e.waitUntil=r,Object.defineProperty(e,"__esModule",{value:!0})}))},6545:(e,s,i)=>{e.exports=i(2618)},8104:(e,s,i)=>{"use strict";var a=i(328);var c=i(3211);var u=i(1934);var l=i(646);var h=i(8605);var d=i(7211);var p=i(7707).http;var m=i(7707).https;var g=i(8835);var b=i(8761);var _=i(696);var y=i(5226);var v=i(1516);var w=/https:?/;function setProxy(e,s,i){e.hostname=s.host;e.host=s.host;e.port=s.port;e.path=i;if(s.auth){var a=Buffer.from(s.auth.username+":"+s.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+a}e.beforeRedirect=function beforeRedirect(e){e.headers.host=e.host;setProxy(e,s,e.href)}}e.exports=function httpAdapter(e){return new Promise((function dispatchHttpRequest(s,i){var E=function resolve(e){s(e)};var k=function reject(e){i(e)};var C=e.data;var S=e.headers;if("User-Agent"in S||"user-agent"in S){if(!S["User-Agent"]&&!S["user-agent"]){delete S["User-Agent"];delete S["user-agent"]}}else{S["User-Agent"]="axios/"+_.version}if(C&&!a.isStream(C)){if(Buffer.isBuffer(C)){}else if(a.isArrayBuffer(C)){C=Buffer.from(new Uint8Array(C))}else if(a.isString(C)){C=Buffer.from(C,"utf-8")}else{return k(y("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e))}S["Content-Length"]=C.length}var x=undefined;if(e.auth){var O=e.auth.username||"";var R=e.auth.password||"";x=O+":"+R}var T=u(e.baseURL,e.url);var L=g.parse(T);var N=L.protocol||"http:";if(!x&&L.auth){var B=L.auth.split(":");var D=B[0]||"";var P=B[1]||"";x=D+":"+P}if(x){delete S.Authorization}var A=w.test(N);var U=A?e.httpsAgent:e.httpAgent;var M={path:l(L.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:S,agent:U,agents:{http:e.httpAgent,https:e.httpsAgent},auth:x};if(e.socketPath){M.socketPath=e.socketPath}else{M.hostname=L.hostname;M.port=L.port}var I=e.proxy;if(!I&&I!==false){var j=N.slice(0,-1)+"_proxy";var F=process.env[j]||process.env[j.toUpperCase()];if(F){var W=g.parse(F);var q=process.env.no_proxy||process.env.NO_PROXY;var $=true;if(q){var G=q.split(",").map((function trim(e){return e.trim()}));$=!G.some((function proxyMatch(e){if(!e){return false}if(e==="*"){return true}if(e[0]==="."&&L.hostname.substr(L.hostname.length-e.length)===e){return true}return L.hostname===e}))}if($){I={host:W.hostname,port:W.port,protocol:W.protocol};if(W.auth){var H=W.auth.split(":");I.auth={username:H[0],password:H[1]}}}}}if(I){M.headers.host=L.hostname+(L.port?":"+L.port:"");setProxy(M,I,N+"//"+L.hostname+(L.port?":"+L.port:"")+M.path)}var V;var z=A&&(I?w.test(I.protocol):true);if(e.transport){V=e.transport}else if(e.maxRedirects===0){V=z?d:h}else{if(e.maxRedirects){M.maxRedirects=e.maxRedirects}V=z?m:p}if(e.maxBodyLength>-1){M.maxBodyLength=e.maxBodyLength}var Y=V.request(M,(function handleResponse(s){if(Y.aborted)return;var i=s;var u=s.req||Y;if(s.statusCode!==204&&u.method!=="HEAD"&&e.decompress!==false){switch(s.headers["content-encoding"]){case"gzip":case"compress":case"deflate":i=i.pipe(b.createUnzip());delete s.headers["content-encoding"];break}}var l={status:s.statusCode,statusText:s.statusMessage,headers:s.headers,config:e,request:u};if(e.responseType==="stream"){l.data=i;c(E,k,l)}else{var h=[];var d=0;i.on("data",(function handleStreamData(s){h.push(s);d+=s.length;if(e.maxContentLength>-1&&d>e.maxContentLength){i.destroy();k(y("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,u))}}));i.on("error",(function handleStreamError(s){if(Y.aborted)return;k(v(s,e,null,u))}));i.on("end",(function handleStreamEnd(){var s=Buffer.concat(h);if(e.responseType!=="arraybuffer"){s=s.toString(e.responseEncoding);if(!e.responseEncoding||e.responseEncoding==="utf8"){s=a.stripBOM(s)}}l.data=s;c(E,k,l)}))}}));Y.on("error",(function handleRequestError(s){if(Y.aborted&&s.code!=="ERR_FR_TOO_MANY_REDIRECTS")return;k(v(s,e,null,Y))}));if(e.timeout){var J=parseInt(e.timeout,10);if(isNaN(J)){k(y("error trying to parse `config.timeout` to int",e,"ERR_PARSE_TIMEOUT",Y));return}Y.setTimeout(J,(function handleRequestTimeout(){Y.abort();k(y("timeout of "+J+"ms exceeded",e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",Y))}))}if(e.cancelToken){e.cancelToken.promise.then((function onCanceled(e){if(Y.aborted)return;Y.abort();k(e)}))}if(a.isStream(C)){C.on("error",(function handleStreamError(s){k(v(s,e,null,Y))})).pipe(Y)}else{Y.end(C)}}))}},3454:(e,s,i)=>{"use strict";var a=i(328);var c=i(3211);var u=i(1545);var l=i(646);var h=i(1934);var d=i(6455);var p=i(3608);var m=i(5226);e.exports=function xhrAdapter(e){return new Promise((function dispatchXhrRequest(s,i){var g=e.data;var b=e.headers;var _=e.responseType;if(a.isFormData(g)){delete b["Content-Type"]}var y=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"";var w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";b.Authorization="Basic "+btoa(v+":"+w)}var E=h(e.baseURL,e.url);y.open(e.method.toUpperCase(),l(E,e.params,e.paramsSerializer),true);y.timeout=e.timeout;function onloadend(){if(!y){return}var a="getAllResponseHeaders"in y?d(y.getAllResponseHeaders()):null;var u=!_||_==="text"||_==="json"?y.responseText:y.response;var l={data:u,status:y.status,statusText:y.statusText,headers:a,config:e,request:y};c(s,i,l);y=null}if("onloadend"in y){y.onloadend=onloadend}else{y.onreadystatechange=function handleLoad(){if(!y||y.readyState!==4){return}if(y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)){return}setTimeout(onloadend)}}y.onabort=function handleAbort(){if(!y){return}i(m("Request aborted",e,"ECONNABORTED",y));y=null};y.onerror=function handleError(){i(m("Network Error",e,null,y));y=null};y.ontimeout=function handleTimeout(){var s="timeout of "+e.timeout+"ms exceeded";if(e.timeoutErrorMessage){s=e.timeoutErrorMessage}i(m(s,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y));y=null};if(a.isStandardBrowserEnv()){var k=(e.withCredentials||p(E))&&e.xsrfCookieName?u.read(e.xsrfCookieName):undefined;if(k){b[e.xsrfHeaderName]=k}}if("setRequestHeader"in y){a.forEach(b,(function setRequestHeader(e,s){if(typeof g==="undefined"&&s.toLowerCase()==="content-type"){delete b[s]}else{y.setRequestHeader(s,e)}}))}if(!a.isUndefined(e.withCredentials)){y.withCredentials=!!e.withCredentials}if(_&&_!=="json"){y.responseType=e.responseType}if(typeof e.onDownloadProgress==="function"){y.addEventListener("progress",e.onDownloadProgress)}if(typeof e.onUploadProgress==="function"&&y.upload){y.upload.addEventListener("progress",e.onUploadProgress)}if(e.cancelToken){e.cancelToken.promise.then((function onCanceled(e){if(!y){return}y.abort();i(e);y=null}))}if(!g){g=null}y.send(g)}))}},2618:(e,s,i)=>{"use strict";var a=i(328);var c=i(7065);var u=i(8178);var l=i(4831);var h=i(8190);function createInstance(e){var s=new u(e);var i=c(u.prototype.request,s);a.extend(i,u.prototype,s);a.extend(i,s);return i}var d=createInstance(h);d.Axios=u;d.create=function create(e){return createInstance(l(d.defaults,e))};d.Cancel=i(8875);d.CancelToken=i(1587);d.isCancel=i(4057);d.all=function all(e){return Promise.all(e)};d.spread=i(4850);d.isAxiosError=i(650);e.exports=d;e.exports.default=d},8875:e=>{"use strict";function Cancel(e){this.message=e}Cancel.prototype.toString=function toString(){return"Cancel"+(this.message?": "+this.message:"")};Cancel.prototype.__CANCEL__=true;e.exports=Cancel},1587:(e,s,i)=>{"use strict";var a=i(8875);function CancelToken(e){if(typeof e!=="function"){throw new TypeError("executor must be a function.")}var s;this.promise=new Promise((function promiseExecutor(e){s=e}));var i=this;e((function cancel(e){if(i.reason){return}i.reason=new a(e);s(i.reason)}))}CancelToken.prototype.throwIfRequested=function throwIfRequested(){if(this.reason){throw this.reason}};CancelToken.source=function source(){var e;var s=new CancelToken((function executor(s){e=s}));return{token:s,cancel:e}};e.exports=CancelToken},4057:e=>{"use strict";e.exports=function isCancel(e){return!!(e&&e.__CANCEL__)}},8178:(e,s,i)=>{"use strict";var a=i(328);var c=i(646);var u=i(3214);var l=i(5062);var h=i(4831);var d=i(1632);var p=d.validators;function Axios(e){this.defaults=e;this.interceptors={request:new u,response:new u}}Axios.prototype.request=function request(e){if(typeof e==="string"){e=arguments[1]||{};e.url=arguments[0]}else{e=e||{}}e=h(this.defaults,e);if(e.method){e.method=e.method.toLowerCase()}else if(this.defaults.method){e.method=this.defaults.method.toLowerCase()}else{e.method="get"}var s=e.transitional;if(s!==undefined){d.assertOptions(s,{silentJSONParsing:p.transitional(p.boolean,"1.0.0"),forcedJSONParsing:p.transitional(p.boolean,"1.0.0"),clarifyTimeoutError:p.transitional(p.boolean,"1.0.0")},false)}var i=[];var a=true;this.interceptors.request.forEach((function unshiftRequestInterceptors(s){if(typeof s.runWhen==="function"&&s.runWhen(e)===false){return}a=a&&s.synchronous;i.unshift(s.fulfilled,s.rejected)}));var c=[];this.interceptors.response.forEach((function pushResponseInterceptors(e){c.push(e.fulfilled,e.rejected)}));var u;if(!a){var m=[l,undefined];Array.prototype.unshift.apply(m,i);m=m.concat(c);u=Promise.resolve(e);while(m.length){u=u.then(m.shift(),m.shift())}return u}var g=e;while(i.length){var b=i.shift();var _=i.shift();try{g=b(g)}catch(e){_(e);break}}try{u=l(g)}catch(e){return Promise.reject(e)}while(c.length){u=u.then(c.shift(),c.shift())}return u};Axios.prototype.getUri=function getUri(e){e=h(this.defaults,e);return c(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};a.forEach(["delete","get","head","options"],(function forEachMethodNoData(e){Axios.prototype[e]=function(s,i){return this.request(h(i||{},{method:e,url:s,data:(i||{}).data}))}}));a.forEach(["post","put","patch"],(function forEachMethodWithData(e){Axios.prototype[e]=function(s,i,a){return this.request(h(a||{},{method:e,url:s,data:i}))}}));e.exports=Axios},3214:(e,s,i)=>{"use strict";var a=i(328);function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function use(e,s,i){this.handlers.push({fulfilled:e,rejected:s,synchronous:i?i.synchronous:false,runWhen:i?i.runWhen:null});return this.handlers.length-1};InterceptorManager.prototype.eject=function eject(e){if(this.handlers[e]){this.handlers[e]=null}};InterceptorManager.prototype.forEach=function forEach(e){a.forEach(this.handlers,(function forEachHandler(s){if(s!==null){e(s)}}))};e.exports=InterceptorManager},1934:(e,s,i)=>{"use strict";var a=i(1301);var c=i(7189);e.exports=function buildFullPath(e,s){if(e&&!a(s)){return c(e,s)}return s}},5226:(e,s,i)=>{"use strict";var a=i(1516);e.exports=function createError(e,s,i,c,u){var l=new Error(e);return a(l,s,i,c,u)}},5062:(e,s,i)=>{"use strict";var a=i(328);var c=i(9812);var u=i(4057);var l=i(8190);function throwIfCancellationRequested(e){if(e.cancelToken){e.cancelToken.throwIfRequested()}}e.exports=function dispatchRequest(e){throwIfCancellationRequested(e);e.headers=e.headers||{};e.data=c.call(e,e.data,e.headers,e.transformRequest);e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers);a.forEach(["delete","get","head","post","put","patch","common"],(function cleanHeaderConfig(s){delete e.headers[s]}));var s=e.adapter||l.adapter;return s(e).then((function onAdapterResolution(s){throwIfCancellationRequested(e);s.data=c.call(e,s.data,s.headers,e.transformResponse);return s}),(function onAdapterRejection(s){if(!u(s)){throwIfCancellationRequested(e);if(s&&s.response){s.response.data=c.call(e,s.response.data,s.response.headers,e.transformResponse)}}return Promise.reject(s)}))}},1516:e=>{"use strict";e.exports=function enhanceError(e,s,i,a,c){e.config=s;if(i){e.code=i}e.request=a;e.response=c;e.isAxiosError=true;e.toJSON=function toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}};return e}},4831:(e,s,i)=>{"use strict";var a=i(328);e.exports=function mergeConfig(e,s){s=s||{};var i={};var c=["url","method","data"];var u=["headers","auth","proxy","params"];var l=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"];var h=["validateStatus"];function getMergedValue(e,s){if(a.isPlainObject(e)&&a.isPlainObject(s)){return a.merge(e,s)}else if(a.isPlainObject(s)){return a.merge({},s)}else if(a.isArray(s)){return s.slice()}return s}function mergeDeepProperties(c){if(!a.isUndefined(s[c])){i[c]=getMergedValue(e[c],s[c])}else if(!a.isUndefined(e[c])){i[c]=getMergedValue(undefined,e[c])}}a.forEach(c,(function valueFromConfig2(e){if(!a.isUndefined(s[e])){i[e]=getMergedValue(undefined,s[e])}}));a.forEach(u,mergeDeepProperties);a.forEach(l,(function defaultToConfig2(c){if(!a.isUndefined(s[c])){i[c]=getMergedValue(undefined,s[c])}else if(!a.isUndefined(e[c])){i[c]=getMergedValue(undefined,e[c])}}));a.forEach(h,(function merge(a){if(a in s){i[a]=getMergedValue(e[a],s[a])}else if(a in e){i[a]=getMergedValue(undefined,e[a])}}));var d=c.concat(u).concat(l).concat(h);var p=Object.keys(e).concat(Object.keys(s)).filter((function filterAxiosKeys(e){return d.indexOf(e)===-1}));a.forEach(p,mergeDeepProperties);return i}},3211:(e,s,i)=>{"use strict";var a=i(5226);e.exports=function settle(e,s,i){var c=i.config.validateStatus;if(!i.status||!c||c(i.status)){e(i)}else{s(a("Request failed with status code "+i.status,i.config,null,i.request,i))}}},9812:(e,s,i)=>{"use strict";var a=i(328);var c=i(8190);e.exports=function transformData(e,s,i){var u=this||c;a.forEach(i,(function transform(i){e=i.call(u,e,s)}));return e}},8190:(e,s,i)=>{"use strict";var a=i(328);var c=i(6240);var u=i(1516);var l={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,s){if(!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])){e["Content-Type"]=s}}function getDefaultAdapter(){var e;if(typeof XMLHttpRequest!=="undefined"){e=i(3454)}else if(typeof process!=="undefined"&&Object.prototype.toString.call(process)==="[object process]"){e=i(8104)}return e}function stringifySafely(e,s,i){if(a.isString(e)){try{(s||JSON.parse)(e);return a.trim(e)}catch(e){if(e.name!=="SyntaxError"){throw e}}}return(i||JSON.stringify)(e)}var h={transitional:{silentJSONParsing:true,forcedJSONParsing:true,clarifyTimeoutError:false},adapter:getDefaultAdapter(),transformRequest:[function transformRequest(e,s){c(s,"Accept");c(s,"Content-Type");if(a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)){return e}if(a.isArrayBufferView(e)){return e.buffer}if(a.isURLSearchParams(e)){setContentTypeIfUnset(s,"application/x-www-form-urlencoded;charset=utf-8");return e.toString()}if(a.isObject(e)||s&&s["Content-Type"]==="application/json"){setContentTypeIfUnset(s,"application/json");return stringifySafely(e)}return e}],transformResponse:[function transformResponse(e){var s=this.transitional;var i=s&&s.silentJSONParsing;var c=s&&s.forcedJSONParsing;var l=!i&&this.responseType==="json";if(l||c&&a.isString(e)&&e.length){try{return JSON.parse(e)}catch(e){if(l){if(e.name==="SyntaxError"){throw u(e,this,"E_JSON_PARSE")}throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function validateStatus(e){return e>=200&&e<300}};h.headers={common:{Accept:"application/json, text/plain, */*"}};a.forEach(["delete","get","head"],(function forEachMethodNoData(e){h.headers[e]={}}));a.forEach(["post","put","patch"],(function forEachMethodWithData(e){h.headers[e]=a.merge(l)}));e.exports=h},7065:e=>{"use strict";e.exports=function bind(e,s){return function wrap(){var i=new Array(arguments.length);for(var a=0;a<i.length;a++){i[a]=arguments[a]}return e.apply(s,i)}}},646:(e,s,i)=>{"use strict";var a=i(328);function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function buildURL(e,s,i){if(!s){return e}var c;if(i){c=i(s)}else if(a.isURLSearchParams(s)){c=s.toString()}else{var u=[];a.forEach(s,(function serialize(e,s){if(e===null||typeof e==="undefined"){return}if(a.isArray(e)){s=s+"[]"}else{e=[e]}a.forEach(e,(function parseValue(e){if(a.isDate(e)){e=e.toISOString()}else if(a.isObject(e)){e=JSON.stringify(e)}u.push(encode(s)+"="+encode(e))}))}));c=u.join("&")}if(c){var l=e.indexOf("#");if(l!==-1){e=e.slice(0,l)}e+=(e.indexOf("?")===-1?"?":"&")+c}return e}},7189:e=>{"use strict";e.exports=function combineURLs(e,s){return s?e.replace(/\/+$/,"")+"/"+s.replace(/^\/+/,""):e}},1545:(e,s,i)=>{"use strict";var a=i(328);e.exports=a.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(e,s,i,c,u,l){var h=[];h.push(e+"="+encodeURIComponent(s));if(a.isNumber(i)){h.push("expires="+new Date(i).toGMTString())}if(a.isString(c)){h.push("path="+c)}if(a.isString(u)){h.push("domain="+u)}if(l===true){h.push("secure")}document.cookie=h.join("; ")},read:function read(e){var s=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function remove(e){this.write(e,"",Date.now()-864e5)}}}():function nonStandardBrowserEnv(){return{write:function write(){},read:function read(){return null},remove:function remove(){}}}()},1301:e=>{"use strict";e.exports=function isAbsoluteURL(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},650:e=>{"use strict";e.exports=function isAxiosError(e){return typeof e==="object"&&e.isAxiosError===true}},3608:(e,s,i)=>{"use strict";var a=i(328);e.exports=a.isStandardBrowserEnv()?function standardBrowserEnv(){var e=/(msie|trident)/i.test(navigator.userAgent);var s=document.createElement("a");var i;function resolveURL(i){var a=i;if(e){s.setAttribute("href",a);a=s.href}s.setAttribute("href",a);return{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}i=resolveURL(window.location.href);return function isURLSameOrigin(e){var s=a.isString(e)?resolveURL(e):e;return s.protocol===i.protocol&&s.host===i.host}}():function nonStandardBrowserEnv(){return function isURLSameOrigin(){return true}}()},6240:(e,s,i)=>{"use strict";var a=i(328);e.exports=function normalizeHeaderName(e,s){a.forEach(e,(function processHeader(i,a){if(a!==s&&a.toUpperCase()===s.toUpperCase()){e[s]=i;delete e[a]}}))}},6455:(e,s,i)=>{"use strict";var a=i(328);var c=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function parseHeaders(e){var s={};var i;var u;var l;if(!e){return s}a.forEach(e.split("\n"),(function parser(e){l=e.indexOf(":");i=a.trim(e.substr(0,l)).toLowerCase();u=a.trim(e.substr(l+1));if(i){if(s[i]&&c.indexOf(i)>=0){return}if(i==="set-cookie"){s[i]=(s[i]?s[i]:[]).concat([u])}else{s[i]=s[i]?s[i]+", "+u:u}}}));return s}},4850:e=>{"use strict";e.exports=function spread(e){return function wrap(s){return e.apply(null,s)}}},1632:(e,s,i)=>{"use strict";var a=i(696);var c={};["object","boolean","number","function","string","symbol"].forEach((function(e,s){c[e]=function validator(i){return typeof i===e||"a"+(s<1?"n ":" ")+e}}));var u={};var l=a.version.split(".");function isOlderVersion(e,s){var i=s?s.split("."):l;var a=e.split(".");for(var c=0;c<3;c++){if(i[c]>a[c]){return true}else if(i[c]<a[c]){return false}}return false}c.transitional=function transitional(e,s,i){var c=s&&isOlderVersion(s);function formatMessage(e,s){return"[Axios v"+a.version+"] Transitional option '"+e+"'"+s+(i?". "+i:"")}return function(i,a,l){if(e===false){throw new Error(formatMessage(a," has been removed in "+s))}if(c&&!u[a]){u[a]=true;console.warn(formatMessage(a," has been deprecated since v"+s+" and will be removed in the near future"))}return e?e(i,a,l):true}};function assertOptions(e,s,i){if(typeof e!=="object"){throw new TypeError("options must be an object")}var a=Object.keys(e);var c=a.length;while(c-- >0){var u=a[c];var l=s[u];if(l){var h=e[u];var d=h===undefined||l(h,u,e);if(d!==true){throw new TypeError("option "+u+" must be "+d)}continue}if(i!==true){throw Error("Unknown option "+u)}}}e.exports={isOlderVersion:isOlderVersion,assertOptions:assertOptions,validators:c}},328:(e,s,i)=>{"use strict";var a=i(7065);var c=Object.prototype.toString;function isArray(e){return c.call(e)==="[object Array]"}function isUndefined(e){return typeof e==="undefined"}function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&typeof e.constructor.isBuffer==="function"&&e.constructor.isBuffer(e)}function isArrayBuffer(e){return c.call(e)==="[object ArrayBuffer]"}function isFormData(e){return typeof FormData!=="undefined"&&e instanceof FormData}function isArrayBufferView(e){var s;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView){s=ArrayBuffer.isView(e)}else{s=e&&e.buffer&&e.buffer instanceof ArrayBuffer}return s}function isString(e){return typeof e==="string"}function isNumber(e){return typeof e==="number"}function isObject(e){return e!==null&&typeof e==="object"}function isPlainObject(e){if(c.call(e)!=="[object Object]"){return false}var s=Object.getPrototypeOf(e);return s===null||s===Object.prototype}function isDate(e){return c.call(e)==="[object Date]"}function isFile(e){return c.call(e)==="[object File]"}function isBlob(e){return c.call(e)==="[object Blob]"}function isFunction(e){return c.call(e)==="[object Function]"}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isURLSearchParams(e){return typeof URLSearchParams!=="undefined"&&e instanceof URLSearchParams}function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){if(typeof navigator!=="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")){return false}return typeof window!=="undefined"&&typeof document!=="undefined"}function forEach(e,s){if(e===null||typeof e==="undefined"){return}if(typeof e!=="object"){e=[e]}if(isArray(e)){for(var i=0,a=e.length;i<a;i++){s.call(null,e[i],i,e)}}else{for(var c in e){if(Object.prototype.hasOwnProperty.call(e,c)){s.call(null,e[c],c,e)}}}}function merge(){var e={};function assignValue(s,i){if(isPlainObject(e[i])&&isPlainObject(s)){e[i]=merge(e[i],s)}else if(isPlainObject(s)){e[i]=merge({},s)}else if(isArray(s)){e[i]=s.slice()}else{e[i]=s}}for(var s=0,i=arguments.length;s<i;s++){forEach(arguments[s],assignValue)}return e}function extend(e,s,i){forEach(s,(function assignValue(s,c){if(i&&typeof s==="function"){e[c]=a(s,i)}else{e[c]=s}}));return e}function stripBOM(e){if(e.charCodeAt(0)===65279){e=e.slice(1)}return e}e.exports={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isPlainObject:isPlainObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,extend:extend,trim:trim,stripBOM:stripBOM}},7218:e=>{"use strict";const mask=(e,s,i,a,c)=>{for(var u=0;u<c;u++){i[a+u]=e[u]^s[u&3]}};const unmask=(e,s)=>{const i=e.length;for(var a=0;a<i;a++){e[a]^=s[a&3]}};e.exports={mask:mask,unmask:unmask}},3352:(e,s,i)=>{"use strict";try{e.exports=require(i.ab+"prebuilds/win32-x64/node.napi.node")}catch(s){e.exports=i(7218)}},5617:(e,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:true});const a=i(3336);s.styles={bgBlack:{open:"[40m",close:"[49m"},bgBlue:{open:"[44m",close:"[49m"},bgCyan:{open:"[46m",close:"[49m"},bgGray:{open:"[90m",close:"[49m"},bgGreen:{open:"[42m",close:"[49m"},bgGrey:{open:"[90m",close:"[49m"},bgMagenta:{open:"[45m",close:"[49m"},bgRed:{open:"[41m",close:"[49m"},bgWhite:{open:"[47m",close:"[49m"},bgYellow:{open:"[43m",close:"[49m"},black:{open:"[30m",close:"[39m"},blue:{open:"[34m",close:"[39m"},bold:{open:"[1m",close:"[22m"},cyan:{open:"[36m",close:"[39m"},dim:{open:"[2m",close:"[22m"},gray:{open:"[90m",close:"[39m"},green:{open:"[32m",close:"[39m"},grey:{open:"[90m",close:"[39m"},hidden:{open:"[8m",close:"[28m"},inverse:{open:"[7m",close:"[27m"},italic:{open:"[3m",close:"[23m"},magenta:{open:"[35m",close:"[39m"},red:{open:"[31m",close:"[39m"},reset:{open:"[0m",close:"[0m"},strikethrough:{open:"[9m",close:"[29m"},underline:{open:"[4m",close:"[24m"},white:{open:"[37m",close:"[39m"},yellow:{open:"[33m",close:"[39m"}};class Colors{constructor(e=""){this.str=e;this.styles=s.styles;this.init()}get bgBlack(){this.stylize("bgBlack");return this}get bgBlue(){this.stylize("bgBlue");return this}get bgCyan(){this.stylize("bgCyan");return this}get bgGray(){this.stylize("bgGray");return this}get bgGreen(){this.stylize("bgGreen");return this}get bgGrey(){this.stylize("bgGrey");return this}get bgMagenta(){this.stylize("bgMagenta");return this}get bgRed(){this.stylize("bgRed");return this}get bgWhite(){this.stylize("bgWhite");return this}get bgYellow(){this.stylize("bgYellow");return this}get black(){this.stylize("black");return this}get blue(){this.stylize("blue");return this}get bold(){this.stylize("bold");return this}get cyan(){this.stylize("cyan");return this}get dim(){this.stylize("dim");return this}get gray(){this.stylize("gray");return this}get green(){this.stylize("green");return this}get grey(){this.stylize("grey");return this}get inverse(){this.stylize("inverse");return this}get italic(){this.stylize("italic");return this}get magenta(){this.stylize("magenta");return this}get red(){this.stylize("red");return this}get strikethrough(){this.stylize("strikethrough");return this}get underline(){this.stylize("underline");return this}get yellow(){this.stylize("yellow");return this}get strip(){this.str=`${this.str}`.replace(/\x1B\[\d+m/g,"");return this}get white(){this.stylize("white");return this}stylize(e){const s=this.styles[e];if(this.enabled){this.str=s.open+this.str.replace(s.closeRe,s.open)+s.close}return this.str}toString(){return this.str}init(){this.enabled=a.System.colorSupported();this.styleKeys=Object.keys(this.styles);this.styleKeys.forEach((e=>{this.styles[e].closeRe=new RegExp(this.escapeStringRegexp(this.styles[e].close),"g")}))}escapeStringRegexp(e){if(typeof e!=="string"){throw new TypeError("Expected a string.")}return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}}s.Colors=Colors;function color(e){return new Colors(e)}s.default=color;function echo(e){console.log(e.toString())}s.echo=echo},692:(e,s,i)=>{"use strict";var a;a={value:true};const c=i(5617);function stringify(e,s){return Object.defineProperty(String.prototype,e,{get:s,configurable:true})}stringify("strip",(function(){return c.default(this).strip.toString()}));stringify("capitalize",(function(){return this[0].toUpperCase()+this.slice(1)}));stringify("titleCase",(function(){return this.split(" ").map((e=>e[0].toUpperCase()+e.slice(1).toLowerCase())).join(" ")}));stringify("upperCamelCase",(function(){return this.titleCase.split(" ").join("")}));stringify("lowerCamelCase",(function(){const e=this.upperCamelCase;return e[0].toLowerCase()+e.slice(1)}));stringify("camelCase",(function(){return this.lowerCamelCase}));stringify("snakeCase",(function(){return this.toLowerCase().split(" ").join("_")}));stringify("kebabCase",(function(){return this.toLowerCase().split(" ").join("-")}));stringify("studlyCaps",(function(){const e=this.camelCase.replace(" ","");return e.split("").map(((e,s)=>{if(s%2!==0){return e.toLowerCase()}else{return e.toUpperCase()}})).join("")}));Object.keys(c.styles).forEach((e=>{stringify(e,(function(){return c.default(this)[e].toString()}))}))},3336:(e,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:true});const a=i(1765);class System{static colorSupported(){let e=false;if(a.argv.indexOf("--no-color")!==-1||a.argv.indexOf("--color=false")!==-1||process.env.TERM==="dumb"){e=false}else if(System.colorEnabled()||System.colorAllowed()){e=true}else{e=/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)}return e}static isWin32(){return process.platform==="win32"}static hasColorOutput(){return process.stdout&&!process.stdout.isTTY}static colorTermEnv(){return"COLORTERM"in process.env}static colorAllowed(){return a.argv.indexOf("--color")!==-1||a.argv.indexOf("--color=true")!==-1||a.argv.indexOf("--color=always")!==-1}static colorEnabled(){return System.hasColorOutput()||System.isWin32()||System.colorTermEnv()}}s.System=System},8222:(e,s,i)=>{s.formatArgs=formatArgs;s.save=save;s.load=load;s.useColors=useColors;s.storage=localstorage();s.destroy=(()=>{let e=false;return()=>{if(!e){e=true;console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}}})();s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(s){s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff);if(!this.useColors){return}const i="color: "+this.color;s.splice(1,0,i,"color: inherit");let a=0;let c=0;s[0].replace(/%[a-zA-Z%]/g,(e=>{if(e==="%%"){return}a++;if(e==="%c"){c=a}}));s.splice(c,0,i)}s.log=console.debug||console.log||(()=>{});function save(e){try{if(e){s.storage.setItem("debug",e)}else{s.storage.removeItem("debug")}}catch(e){}}function load(){let e;try{e=s.storage.getItem("debug")}catch(e){}if(!e&&typeof process!=="undefined"&&"env"in process){e=process.env.DEBUG}return e}function localstorage(){try{return localStorage}catch(e){}}e.exports=i(6243)(s);const{formatters:a}=e.exports;a.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},6243:(e,s,i)=>{function setup(e){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=i(900);createDebug.destroy=destroy;Object.keys(e).forEach((s=>{createDebug[s]=e[s]}));createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(e){let s=0;for(let i=0;i<e.length;i++){s=(s<<5)-s+e.charCodeAt(i);s|=0}return createDebug.colors[Math.abs(s)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(e){let s;let i=null;let a;let c;function debug(...e){if(!debug.enabled){return}const i=debug;const a=Number(new Date);const c=a-(s||a);i.diff=c;i.prev=s;i.curr=a;s=a;e[0]=createDebug.coerce(e[0]);if(typeof e[0]!=="string"){e.unshift("%O")}let u=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((s,a)=>{if(s==="%%"){return"%"}u++;const c=createDebug.formatters[a];if(typeof c==="function"){const a=e[u];s=c.call(i,a);e.splice(u,1);u--}return s}));createDebug.formatArgs.call(i,e);const l=i.log||createDebug.log;l.apply(i,e)}debug.namespace=e;debug.useColors=createDebug.useColors();debug.color=createDebug.selectColor(e);debug.extend=extend;debug.destroy=createDebug.destroy;Object.defineProperty(debug,"enabled",{enumerable:true,configurable:false,get:()=>{if(i!==null){return i}if(a!==createDebug.namespaces){a=createDebug.namespaces;c=createDebug.enabled(e)}return c},set:e=>{i=e}});if(typeof createDebug.init==="function"){createDebug.init(debug)}return debug}function extend(e,s){const i=createDebug(this.namespace+(typeof s==="undefined"?":":s)+e);i.log=this.log;return i}function enable(e){createDebug.save(e);createDebug.namespaces=e;createDebug.names=[];createDebug.skips=[];let s;const i=(typeof e==="string"?e:"").split(/[\s,]+/);const a=i.length;for(s=0;s<a;s++){if(!i[s]){continue}e=i[s].replace(/\*/g,".*?");if(e[0]==="-"){createDebug.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{createDebug.names.push(new RegExp("^"+e+"$"))}}}function disable(){const e=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((e=>"-"+e))].join(",");createDebug.enable("");return e}function enabled(e){if(e[e.length-1]==="*"){return true}let s;let i;for(s=0,i=createDebug.skips.length;s<i;s++){if(createDebug.skips[s].test(e)){return false}}for(s=0,i=createDebug.names.length;s<i;s++){if(createDebug.names[s].test(e)){return true}}return false}function toNamespace(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function coerce(e){if(e instanceof Error){return e.stack||e.message}return e}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}createDebug.enable(createDebug.load());return createDebug}e.exports=setup},8237:(e,s,i)=>{if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){e.exports=i(8222)}else{e.exports=i(5332)}},5332:(e,s,i)=>{const a=i(3867);const c=i(1669);s.init=init;s.log=log;s.formatArgs=formatArgs;s.save=save;s.load=load;s.useColors=useColors;s.destroy=c.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");s.colors=[6,2,3,4,5,1];try{const e=i(9318);if(e&&(e.stderr||e).level>=2){s.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(e){}s.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,s)=>{const i=s.substring(6).toLowerCase().replace(/_([a-z])/g,((e,s)=>s.toUpperCase()));let a=process.env[s];if(/^(yes|on|true|enabled)$/i.test(a)){a=true}else if(/^(no|off|false|disabled)$/i.test(a)){a=false}else if(a==="null"){a=null}else{a=Number(a)}e[i]=a;return e}),{});function useColors(){return"colors"in s.inspectOpts?Boolean(s.inspectOpts.colors):a.isatty(process.stderr.fd)}function formatArgs(s){const{namespace:i,useColors:a}=this;if(a){const a=this.color;const c="[3"+(a<8?a:"8;5;"+a);const u=`  ${c};1m${i} [0m`;s[0]=u+s[0].split("\n").join("\n"+u);s.push(c+"m+"+e.exports.humanize(this.diff)+"[0m")}else{s[0]=getDate()+i+" "+s[0]}}function getDate(){if(s.inspectOpts.hideDate){return""}return(new Date).toISOString()+" "}function log(...e){return process.stderr.write(c.format(...e)+"\n")}function save(e){if(e){process.env.DEBUG=e}else{delete process.env.DEBUG}}function load(){return process.env.DEBUG}function init(e){e.inspectOpts={};const i=Object.keys(s.inspectOpts);for(let a=0;a<i.length;a++){e.inspectOpts[i[a]]=s.inspectOpts[i[a]]}}e.exports=i(6243)(s);const{formatters:u}=e.exports;u.o=function(e){this.inspectOpts.colors=this.useColors;return c.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")};u.O=function(e){this.inspectOpts.colors=this.useColors;return c.inspect(e,this.inspectOpts)}},1133:(e,s,i)=>{var a;e.exports=function(){if(!a){try{a=i(8237)("follow-redirects")}catch(e){}if(typeof a!=="function"){a=function(){}}}a.apply(null,arguments)}},7707:(e,s,i)=>{var a=i(8835);var c=a.URL;var u=i(8605);var l=i(7211);var h=i(2413).Writable;var d=i(2357);var p=i(1133);var m=["abort","aborted","connect","error","socket","timeout"];var g=Object.create(null);m.forEach((function(e){g[e]=function(s,i,a){this._redirectable.emit(e,s,i,a)}}));var b=createErrorType("ERR_FR_REDIRECTION_FAILURE","");var _=createErrorType("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded");var y=createErrorType("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit");var v=createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");function RedirectableRequest(e,s){h.call(this);this._sanitizeOptions(e);this._options=e;this._ended=false;this._ending=false;this._redirectCount=0;this._redirects=[];this._requestBodyLength=0;this._requestBodyBuffers=[];if(s){this.on("response",s)}var i=this;this._onNativeResponse=function(e){i._processResponse(e)};this._performRequest()}RedirectableRequest.prototype=Object.create(h.prototype);RedirectableRequest.prototype.abort=function(){abortRequest(this._currentRequest);this.emit("abort")};RedirectableRequest.prototype.write=function(e,s,i){if(this._ending){throw new v}if(!(typeof e==="string"||typeof e==="object"&&"length"in e)){throw new TypeError("data should be a string, Buffer or Uint8Array")}if(typeof s==="function"){i=s;s=null}if(e.length===0){if(i){i()}return}if(this._requestBodyLength+e.length<=this._options.maxBodyLength){this._requestBodyLength+=e.length;this._requestBodyBuffers.push({data:e,encoding:s});this._currentRequest.write(e,s,i)}else{this.emit("error",new y);this.abort()}};RedirectableRequest.prototype.end=function(e,s,i){if(typeof e==="function"){i=e;e=s=null}else if(typeof s==="function"){i=s;s=null}if(!e){this._ended=this._ending=true;this._currentRequest.end(null,null,i)}else{var a=this;var c=this._currentRequest;this.write(e,s,(function(){a._ended=true;c.end(null,null,i)}));this._ending=true}};RedirectableRequest.prototype.setHeader=function(e,s){this._options.headers[e]=s;this._currentRequest.setHeader(e,s)};RedirectableRequest.prototype.removeHeader=function(e){delete this._options.headers[e];this._currentRequest.removeHeader(e)};RedirectableRequest.prototype.setTimeout=function(e,s){var i=this;function destroyOnTimeout(s){s.setTimeout(e);s.removeListener("timeout",s.destroy);s.addListener("timeout",s.destroy)}function startTimer(s){if(i._timeout){clearTimeout(i._timeout)}i._timeout=setTimeout((function(){i.emit("timeout");clearTimer()}),e);destroyOnTimeout(s)}function clearTimer(){if(i._timeout){clearTimeout(i._timeout);i._timeout=null}if(s){i.removeListener("timeout",s)}if(!i.socket){i._currentRequest.removeListener("socket",startTimer)}}if(s){this.on("timeout",s)}if(this.socket){startTimer(this.socket)}else{this._currentRequest.once("socket",startTimer)}this.on("socket",destroyOnTimeout);this.once("response",clearTimer);this.once("error",clearTimer);return this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){RedirectableRequest.prototype[e]=function(s,i){return this._currentRequest[e](s,i)}}));["aborted","connection","socket"].forEach((function(e){Object.defineProperty(RedirectableRequest.prototype,e,{get:function(){return this._currentRequest[e]}})}));RedirectableRequest.prototype._sanitizeOptions=function(e){if(!e.headers){e.headers={}}if(e.host){if(!e.hostname){e.hostname=e.host}delete e.host}if(!e.pathname&&e.path){var s=e.path.indexOf("?");if(s<0){e.pathname=e.path}else{e.pathname=e.path.substring(0,s);e.search=e.path.substring(s)}}};RedirectableRequest.prototype._performRequest=function(){var e=this._options.protocol;var s=this._options.nativeProtocols[e];if(!s){this.emit("error",new TypeError("Unsupported protocol "+e));return}if(this._options.agents){var i=e.substr(0,e.length-1);this._options.agent=this._options.agents[i]}var c=this._currentRequest=s.request(this._options,this._onNativeResponse);this._currentUrl=a.format(this._options);c._redirectable=this;for(var u=0;u<m.length;u++){c.on(m[u],g[m[u]])}if(this._isRedirect){var l=0;var h=this;var d=this._requestBodyBuffers;(function writeNext(e){if(c===h._currentRequest){if(e){h.emit("error",e)}else if(l<d.length){var s=d[l++];if(!c.finished){c.write(s.data,s.encoding,writeNext)}}else if(h._ended){c.end()}}})()}};RedirectableRequest.prototype._processResponse=function(e){var s=e.statusCode;if(this._options.trackRedirects){this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:s})}var i=e.headers.location;if(i&&this._options.followRedirects!==false&&s>=300&&s<400){abortRequest(this._currentRequest);e.destroy();if(++this._redirectCount>this._options.maxRedirects){this.emit("error",new _);return}if((s===301||s===302)&&this._options.method==="POST"||s===303&&!/^(?:GET|HEAD)$/.test(this._options.method)){this._options.method="GET";this._requestBodyBuffers=[];removeMatchingHeaders(/^content-/i,this._options.headers)}var c=removeMatchingHeaders(/^host$/i,this._options.headers)||a.parse(this._currentUrl).hostname;var u=a.resolve(this._currentUrl,i);p("redirecting to",u);this._isRedirect=true;var l=a.parse(u);Object.assign(this._options,l);if(l.hostname!==c){removeMatchingHeaders(/^authorization$/i,this._options.headers)}if(typeof this._options.beforeRedirect==="function"){var h={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,h)}catch(e){this.emit("error",e);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){var d=new b("Redirected request failed: "+e.message);d.cause=e;this.emit("error",d)}}else{e.responseUrl=this._currentUrl;e.redirects=this._redirects;this.emit("response",e);this._requestBodyBuffers=[]}};function wrap(e){var s={maxRedirects:21,maxBodyLength:10*1024*1024};var i={};Object.keys(e).forEach((function(u){var l=u+":";var h=i[l]=e[u];var m=s[u]=Object.create(h);function request(e,u,h){if(typeof e==="string"){var m=e;try{e=urlToOptions(new c(m))}catch(s){e=a.parse(m)}}else if(c&&e instanceof c){e=urlToOptions(e)}else{h=u;u=e;e={protocol:l}}if(typeof u==="function"){h=u;u=null}u=Object.assign({maxRedirects:s.maxRedirects,maxBodyLength:s.maxBodyLength},e,u);u.nativeProtocols=i;d.equal(u.protocol,l,"protocol mismatch");p("options",u);return new RedirectableRequest(u,h)}function get(e,s,i){var a=m.request(e,s,i);a.end();return a}Object.defineProperties(m,{request:{value:request,configurable:true,enumerable:true,writable:true},get:{value:get,configurable:true,enumerable:true,writable:true}})}));return s}function noop(){}function urlToOptions(e){var s={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};if(e.port!==""){s.port=Number(e.port)}return s}function removeMatchingHeaders(e,s){var i;for(var a in s){if(e.test(a)){i=s[a];delete s[a]}}return i}function createErrorType(e,s){function CustomError(e){Error.captureStackTrace(this,this.constructor);this.message=e||s}CustomError.prototype=new Error;CustomError.prototype.constructor=CustomError;CustomError.prototype.name="Error ["+e+"]";CustomError.prototype.code=e;return CustomError}function abortRequest(e){for(var s=0;s<m.length;s++){e.removeListener(m[s],g[m[s]])}e.on("error",noop);e.abort()}e.exports=wrap({http:u,https:l});e.exports.wrap=wrap},1621:e=>{"use strict";e.exports=(e,s=process.argv)=>{const i=e.startsWith("-")?"":e.length===1?"-":"--";const a=s.indexOf(i+e);const c=s.indexOf("--");return a!==-1&&(c===-1||a<c)}},900:e=>{var s=1e3;var i=s*60;var a=i*60;var c=a*24;var u=c*7;var l=c*365.25;e.exports=function(e,s){s=s||{};var i=typeof e;if(i==="string"&&e.length>0){return parse(e)}else if(i==="number"&&isFinite(e)){return s.long?fmtLong(e):fmtShort(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){e=String(e);if(e.length>100){return}var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!h){return}var d=parseFloat(h[1]);var p=(h[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return d*l;case"weeks":case"week":case"w":return d*u;case"days":case"day":case"d":return d*c;case"hours":case"hour":case"hrs":case"hr":case"h":return d*a;case"minutes":case"minute":case"mins":case"min":case"m":return d*i;case"seconds":case"second":case"secs":case"sec":case"s":return d*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return undefined}}function fmtShort(e){var u=Math.abs(e);if(u>=c){return Math.round(e/c)+"d"}if(u>=a){return Math.round(e/a)+"h"}if(u>=i){return Math.round(e/i)+"m"}if(u>=s){return Math.round(e/s)+"s"}return e+"ms"}function fmtLong(e){var u=Math.abs(e);if(u>=c){return plural(e,u,c,"day")}if(u>=a){return plural(e,u,a,"hour")}if(u>=i){return plural(e,u,i,"minute")}if(u>=s){return plural(e,u,s,"second")}return e+" ms"}function plural(e,s,i,a){var c=s>=i*1.5;return Math.round(e/i)+" "+a+(c?"s":"")}},9318:(e,s,i)=>{"use strict";const a=i(2087);const c=i(3867);const u=i(1621);const{env:l}=process;let h;if(u("no-color")||u("no-colors")||u("color=false")||u("color=never")){h=0}else if(u("color")||u("colors")||u("color=true")||u("color=always")){h=1}if("FORCE_COLOR"in l){if(l.FORCE_COLOR==="true"){h=1}else if(l.FORCE_COLOR==="false"){h=0}else{h=l.FORCE_COLOR.length===0?1:Math.min(parseInt(l.FORCE_COLOR,10),3)}}function translateLevel(e){if(e===0){return false}return{level:e,hasBasic:true,has256:e>=2,has16m:e>=3}}function supportsColor(e,s){if(h===0){return 0}if(u("color=16m")||u("color=full")||u("color=truecolor")){return 3}if(u("color=256")){return 2}if(e&&!s&&h===undefined){return 0}const i=h||0;if(l.TERM==="dumb"){return i}if(process.platform==="win32"){const e=a.release().split(".");if(Number(e[0])>=10&&Number(e[2])>=10586){return Number(e[2])>=14931?3:2}return 1}if("CI"in l){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in l))||l.CI_NAME==="codeship"){return 1}return i}if("TEAMCITY_VERSION"in l){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(l.TEAMCITY_VERSION)?1:0}if(l.COLORTERM==="truecolor"){return 3}if("TERM_PROGRAM"in l){const e=parseInt((l.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(l.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(l.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(l.TERM)){return 1}if("COLORTERM"in l){return 1}return i}function getSupportLevel(e){const s=supportsColor(e,e&&e.isTTY);return translateLevel(s)}e.exports={supportsColor:getSupportLevel,stdout:translateLevel(supportsColor(true,c.isatty(1))),stderr:translateLevel(supportsColor(true,c.isatty(2)))}},2534:e=>{"use strict";function isValidUTF8(e){const s=e.length;let i=0;while(i<s){if((e[i]&128)===0){i++}else if((e[i]&224)===192){if(i+1===s||(e[i+1]&192)!==128||(e[i]&254)===192){return false}i+=2}else if((e[i]&240)===224){if(i+2>=s||(e[i+1]&192)!==128||(e[i+2]&192)!==128||e[i]===224&&(e[i+1]&224)===128||e[i]===237&&(e[i+1]&224)===160){return false}i+=3}else if((e[i]&248)===240){if(i+3>=s||(e[i+1]&192)!==128||(e[i+2]&192)!==128||(e[i+3]&192)!==128||e[i]===240&&(e[i+1]&240)===128||e[i]===244&&e[i+1]>143||e[i]>244){return false}i+=4}else{return false}}return true}e.exports=isValidUTF8},5161:(e,s,i)=>{"use strict";try{e.exports=require(i.ab+"prebuilds/win32-x64/node.napi1.node")}catch(s){e.exports=i(2534)}},7840:(e,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:true})},753:(e,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:true});s.ConstantBackoff=void 0;var i=function(){function ConstantBackoff(e){this.reset=function(){};this.backoff=e}ConstantBackoff.prototype.next=function(){return this.backoff};return ConstantBackoff}();s.ConstantBackoff=i},4549:(e,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:true});s.ExponentialBackoff=void 0;var i=function(){function ExponentialBackoff(e,s){this.initial=e;this.expMax=s;this.expCurrent=1;this.current=this.initial}ExponentialBackoff.prototype.next=function(){var e=this.current;if(this.expMax>this.expCurrent++)this.current=this.current*2;return e};ExponentialBackoff.prototype.reset=function(){this.expCurrent=1;this.current=this.initial};return ExponentialBackoff}();s.ExponentialBackoff=i},308:(e,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:true});s.LinearBackoff=void 0;var i=function(){function LinearBackoff(e,s,i){this.initial=e;this.increment=s;this.maximum=i;this.current=this.initial}LinearBackoff.prototype.next=function(){var e=this.current;var s=this.current+this.increment;if(this.maximum===undefined)this.current=s;else if(s<=this.maximum)this.current=s;return e};LinearBackoff.prototype.reset=function(){this.current=this.initial};return LinearBackoff}();s.LinearBackoff=i},4325:(e,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:true})},1930:(e,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:true});s.LRUBuffer=void 0;var i=function(){function LRUBuffer(e){this.writePtr=0;this.wrapped=false;this.buffer=Array(e)}LRUBuffer.prototype.len=function(){return this.wrapped?this.buffer.length:this.writePtr};LRUBuffer.prototype.cap=function(){return this.buffer.length};LRUBuffer.prototype.read=function(e){if(e===null||e===undefined||e.length===0||this.buffer.length===0)return 0;if(this.writePtr===0&&!this.wrapped)return 0;var s=this.wrapped?this.writePtr:0;var i=s-1<0?this.buffer.length-1:s-1;for(var a=0;a<e.length;a++){var c=(s+a)%this.buffer.length;e[a]=this.buffer[c];if(c===i)return a+1}return e.length};LRUBuffer.prototype.write=function(e){if(e===null||e===undefined||e.length===0||this.buffer.length===0)return 0;var s=e.length>this.buffer.length?e.length-this.buffer.length:0;for(var i=0;i<e.length-s;i++){this.buffer[this.writePtr]=e[s+i];this.writePtr=(this.writePtr+1)%this.buffer.length;if(this.writePtr===0)this.wrapped=true}return e.length};LRUBuffer.prototype.forEach=function(e){if(this.writePtr===0&&!this.wrapped)return 0;var s=this.wrapped?this.writePtr:0;var i=this.wrapped?s-1<0?this.buffer.length-1:s-1:this.writePtr-1;var a=this.len();while(true){e(this.buffer[s]);if(s===i)break;s=(s+1)%this.buffer.length}return a};LRUBuffer.prototype.clear=function(){this.writePtr=0;this.wrapped=false};return LRUBuffer}();s.LRUBuffer=i},2368:(e,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:true});s.TimeBuffer=void 0;var i=function(){function TimeBuffer(e){this.maxAge=e}TimeBuffer.prototype.cap=function(){return Number.POSITIVE_INFINITY};TimeBuffer.prototype.len=function(){this.forwardTail();var e=this.tail;var s=0;while(e!==undefined){s++;e=e.n}return s};TimeBuffer.prototype.read=function(e){this.forwardTail();if(e.length===0)return 0;var s=this.tail;var i=0;while(s!==undefined){e[i++]=s.e;if(i===e.length)break;s=s.n}return i};TimeBuffer.prototype.write=function(e){for(var s=0;s<e.length;s++)this.putElement(e[s]);return e.length};TimeBuffer.prototype.forEach=function(e){this.forwardTail();var s=this.tail;var i=0;while(s!==undefined){e(s.e);i++;s=s.n}return i};TimeBuffer.prototype.putElement=function(e){var s={e:e,t:Date.now(),n:undefined};if(this.tail===undefined)this.tail=s;if(this.head===undefined)this.head=s;else{this.head.n=s;this.head=s}};TimeBuffer.prototype.forwardTail=function(){if(this.tail===undefined)return;var e=Date.now();while(e-this.tail.t>this.maxAge){if(this.tail===this.head){this.tail=undefined;this.head=undefined}else this.tail=this.tail.n;if(this.tail===undefined)break}};TimeBuffer.prototype.clear=function(){};return TimeBuffer}();s.TimeBuffer=i},7913:function(e,s,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,s,i,a){if(a===undefined)a=i;Object.defineProperty(e,a,{enumerable:true,get:function(){return s[i]}})}:function(e,s,i,a){if(a===undefined)a=i;e[a]=s[i]});var c=this&&this.__exportStar||function(e,s){for(var i in e)if(i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i))a(s,e,i)};Object.defineProperty(s,"__esModule",{value:true});c(i(7840),s);c(i(753),s);c(i(4549),s);c(i(308),s);c(i(4325),s);c(i(1930),s);c(i(2368),s);c(i(6713),s);c(i(182),s)},6713:(e,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:true});s.Websocket=s.WebsocketEvents=void 0;var i;(function(e){e["open"]="open";e["close"]="close";e["error"]="error";e["message"]="message";e["retry"]="retry"})(i=s.WebsocketEvents||(s.WebsocketEvents={}));var a=function(){function Websocket(e,s,a,c){var u=this;this.eventListeners={open:[],close:[],error:[],message:[],retry:[]};this.closedByUser=false;this.retries=0;this.handleOpenEvent=function(e){return u.handleEvent(i.open,e)};this.handleCloseEvent=function(e){return u.handleEvent(i.close,e)};this.handleErrorEvent=function(e){return u.handleEvent(i.error,e)};this.handleMessageEvent=function(e){return u.handleEvent(i.message,e)};this.url=e;this.protocols=s;this.buffer=a;this.backoff=c;this.tryConnect()}Object.defineProperty(Websocket.prototype,"underlyingWebsocket",{get:function(){return this.websocket},enumerable:false,configurable:true});Websocket.prototype.send=function(e){var s;if(this.closedByUser)return;if(this.websocket===undefined||this.websocket.readyState!==this.websocket.OPEN)(s=this.buffer)===null||s===void 0?void 0:s.write([e]);else this.websocket.send(e)};Websocket.prototype.close=function(e,s){var i;this.closedByUser=true;(i=this.websocket)===null||i===void 0?void 0:i.close(e,s)};Websocket.prototype.addEventListener=function(e,s,i){var a={listener:s,options:i};var c=this.eventListeners[e];c.push(a)};Websocket.prototype.removeEventListener=function(e,s,i){this.eventListeners[e]=this.eventListeners[e].filter((function(e){return e.listener!==s&&(e.options===undefined||e.options!==i)}))};Websocket.prototype.dispatchEvent=function(e,s){var i=this;var a=this.eventListeners[e];var c=[];a.forEach((function(e){e.listener(i,s);if(e.options!==undefined&&e.options.once)c.push(e)}));c.forEach((function(s){return i.removeEventListener(e,s.listener,s.options)}))};Websocket.prototype.tryConnect=function(){if(this.websocket!==undefined){this.websocket.removeEventListener(i.open,this.handleOpenEvent);this.websocket.removeEventListener(i.close,this.handleCloseEvent);this.websocket.removeEventListener(i.error,this.handleErrorEvent);this.websocket.removeEventListener(i.message,this.handleMessageEvent);this.websocket.close()}this.websocket=new WebSocket(this.url,this.protocols);this.websocket.addEventListener(i.open,this.handleOpenEvent);this.websocket.addEventListener(i.close,this.handleCloseEvent);this.websocket.addEventListener(i.error,this.handleErrorEvent);this.websocket.addEventListener(i.message,this.handleMessageEvent)};Websocket.prototype.handleEvent=function(e,s){var a,c,u;switch(e){case i.close:if(!this.closedByUser)this.reconnect();break;case i.open:this.retries=0;(a=this.backoff)===null||a===void 0?void 0:a.reset();(c=this.buffer)===null||c===void 0?void 0:c.forEach(this.send.bind(this));(u=this.buffer)===null||u===void 0?void 0:u.clear();break}this.dispatchEvent(e,s)};Websocket.prototype.reconnect=function(){var e=this;if(this.backoff===undefined)return;var s=this.backoff.next();setTimeout((function(){e.dispatchEvent(i.retry,new CustomEvent(i.retry,{detail:{retries:++e.retries,backoff:s}}));e.tryConnect()}),s)};return Websocket}();s.Websocket=a},182:(e,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:true});s.WebsocketBuilder=void 0;var a=i(6713);var c=function(){function WebsocketBuilder(e){this.ws=null;this.onOpenListeners=[];this.onCloseListeners=[];this.onErrorListeners=[];this.onMessageListeners=[];this.onRetryListeners=[];this.url=e}WebsocketBuilder.prototype.withProtocols=function(e){this.protocols=e;return this};WebsocketBuilder.prototype.withBackoff=function(e){this.backoff=e;return this};WebsocketBuilder.prototype.withBuffer=function(e){this.buffer=e;return this};WebsocketBuilder.prototype.onOpen=function(e,s){this.onOpenListeners.push({listener:e,options:s});return this};WebsocketBuilder.prototype.onClose=function(e,s){this.onCloseListeners.push({listener:e,options:s});return this};WebsocketBuilder.prototype.onError=function(e,s){this.onErrorListeners.push({listener:e,options:s});return this};WebsocketBuilder.prototype.onMessage=function(e,s){this.onMessageListeners.push({listener:e,options:s});return this};WebsocketBuilder.prototype.onRetry=function(e,s){this.onRetryListeners.push({listener:e,options:s});return this};WebsocketBuilder.prototype.build=function(){var e=this;if(this.ws!==null)return this.ws;this.ws=new a.Websocket(this.url,this.protocols,this.buffer,this.backoff);this.onOpenListeners.forEach((function(s){var i;return(i=e.ws)===null||i===void 0?void 0:i.addEventListener(a.WebsocketEvents.open,s.listener,s.options)}));this.onCloseListeners.forEach((function(s){var i;return(i=e.ws)===null||i===void 0?void 0:i.addEventListener(a.WebsocketEvents.close,s.listener,s.options)}));this.onErrorListeners.forEach((function(s){var i;return(i=e.ws)===null||i===void 0?void 0:i.addEventListener(a.WebsocketEvents.error,s.listener,s.options)}));this.onMessageListeners.forEach((function(s){var i;return(i=e.ws)===null||i===void 0?void 0:i.addEventListener(a.WebsocketEvents.message,s.listener,s.options)}));this.onRetryListeners.forEach((function(s){var i;return(i=e.ws)===null||i===void 0?void 0:i.addEventListener(a.WebsocketEvents.retry,s.listener,s.options)}));return this.ws};return WebsocketBuilder}();s.WebsocketBuilder=c},8867:(e,s,i)=>{"use strict";const a=i(1518);a.createWebSocketStream=i(1658);a.Server=i(8887);a.Receiver=i(5066);a.Sender=i(6947);a.WebSocket=a;a.WebSocketServer=a.Server;e.exports=a},9436:(e,s,i)=>{"use strict";const{EMPTY_BUFFER:a}=i(5949);function concat(e,s){if(e.length===0)return a;if(e.length===1)return e[0];const i=Buffer.allocUnsafe(s);let c=0;for(let s=0;s<e.length;s++){const a=e[s];i.set(a,c);c+=a.length}if(c<s)return i.slice(0,c);return i}function _mask(e,s,i,a,c){for(let u=0;u<c;u++){i[a+u]=e[u]^s[u&3]}}function _unmask(e,s){for(let i=0;i<e.length;i++){e[i]^=s[i&3]}}function toArrayBuffer(e){if(e.byteLength===e.buffer.byteLength){return e.buffer}return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function toBuffer(e){toBuffer.readOnly=true;if(Buffer.isBuffer(e))return e;let s;if(e instanceof ArrayBuffer){s=Buffer.from(e)}else if(ArrayBuffer.isView(e)){s=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}else{s=Buffer.from(e);toBuffer.readOnly=false}return s}try{const s=i(3352);e.exports={concat:concat,mask(e,i,a,c,u){if(u<48)_mask(e,i,a,c,u);else s.mask(e,i,a,c,u)},toArrayBuffer:toArrayBuffer,toBuffer:toBuffer,unmask(e,i){if(e.length<32)_unmask(e,i);else s.unmask(e,i)}}}catch(s){e.exports={concat:concat,mask:_mask,toArrayBuffer:toArrayBuffer,toBuffer:toBuffer,unmask:_unmask}}},5949:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},4561:(e,s,i)=>{"use strict";const{kForOnEventAttribute:a,kListener:c}=i(5949);const u=Symbol("kCode");const l=Symbol("kData");const h=Symbol("kError");const d=Symbol("kMessage");const p=Symbol("kReason");const m=Symbol("kTarget");const g=Symbol("kType");const b=Symbol("kWasClean");class Event{constructor(e){this[m]=null;this[g]=e}get target(){return this[m]}get type(){return this[g]}}Object.defineProperty(Event.prototype,"target",{enumerable:true});Object.defineProperty(Event.prototype,"type",{enumerable:true});class CloseEvent extends Event{constructor(e,s={}){super(e);this[u]=s.code===undefined?0:s.code;this[p]=s.reason===undefined?"":s.reason;this[b]=s.wasClean===undefined?false:s.wasClean}get code(){return this[u]}get reason(){return this[p]}get wasClean(){return this[b]}}Object.defineProperty(CloseEvent.prototype,"code",{enumerable:true});Object.defineProperty(CloseEvent.prototype,"reason",{enumerable:true});Object.defineProperty(CloseEvent.prototype,"wasClean",{enumerable:true});class ErrorEvent extends Event{constructor(e,s={}){super(e);this[h]=s.error===undefined?null:s.error;this[d]=s.message===undefined?"":s.message}get error(){return this[h]}get message(){return this[d]}}Object.defineProperty(ErrorEvent.prototype,"error",{enumerable:true});Object.defineProperty(ErrorEvent.prototype,"message",{enumerable:true});class MessageEvent extends Event{constructor(e,s={}){super(e);this[l]=s.data===undefined?null:s.data}get data(){return this[l]}}Object.defineProperty(MessageEvent.prototype,"data",{enumerable:true});const _={addEventListener(e,s,i={}){let u;if(e==="message"){u=function onMessage(e,i){const a=new MessageEvent("message",{data:i?e:e.toString()});a[m]=this;s.call(this,a)}}else if(e==="close"){u=function onClose(e,i){const a=new CloseEvent("close",{code:e,reason:i.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[m]=this;s.call(this,a)}}else if(e==="error"){u=function onError(e){const i=new ErrorEvent("error",{error:e,message:e.message});i[m]=this;s.call(this,i)}}else if(e==="open"){u=function onOpen(){const e=new Event("open");e[m]=this;s.call(this,e)}}else{return}u[a]=!!i[a];u[c]=s;if(i.once){this.once(e,u)}else{this.on(e,u)}},removeEventListener(e,s){for(const i of this.listeners(e)){if(i[c]===s&&!i[a]){this.removeListener(e,i);break}}}};e.exports={CloseEvent:CloseEvent,ErrorEvent:ErrorEvent,Event:Event,EventTarget:_,MessageEvent:MessageEvent}},2035:(e,s,i)=>{"use strict";const{tokenChars:a}=i(6279);function push(e,s,i){if(e[s]===undefined)e[s]=[i];else e[s].push(i)}function parse(e){const s=Object.create(null);let i=Object.create(null);let c=false;let u=false;let l=false;let h;let d;let p=-1;let m=-1;let g=-1;let b=0;for(;b<e.length;b++){m=e.charCodeAt(b);if(h===undefined){if(g===-1&&a[m]===1){if(p===-1)p=b}else if(b!==0&&(m===32||m===9)){if(g===-1&&p!==-1)g=b}else if(m===59||m===44){if(p===-1){throw new SyntaxError(`Unexpected character at index ${b}`)}if(g===-1)g=b;const a=e.slice(p,g);if(m===44){push(s,a,i);i=Object.create(null)}else{h=a}p=g=-1}else{throw new SyntaxError(`Unexpected character at index ${b}`)}}else if(d===undefined){if(g===-1&&a[m]===1){if(p===-1)p=b}else if(m===32||m===9){if(g===-1&&p!==-1)g=b}else if(m===59||m===44){if(p===-1){throw new SyntaxError(`Unexpected character at index ${b}`)}if(g===-1)g=b;push(i,e.slice(p,g),true);if(m===44){push(s,h,i);i=Object.create(null);h=undefined}p=g=-1}else if(m===61&&p!==-1&&g===-1){d=e.slice(p,b);p=g=-1}else{throw new SyntaxError(`Unexpected character at index ${b}`)}}else{if(u){if(a[m]!==1){throw new SyntaxError(`Unexpected character at index ${b}`)}if(p===-1)p=b;else if(!c)c=true;u=false}else if(l){if(a[m]===1){if(p===-1)p=b}else if(m===34&&p!==-1){l=false;g=b}else if(m===92){u=true}else{throw new SyntaxError(`Unexpected character at index ${b}`)}}else if(m===34&&e.charCodeAt(b-1)===61){l=true}else if(g===-1&&a[m]===1){if(p===-1)p=b}else if(p!==-1&&(m===32||m===9)){if(g===-1)g=b}else if(m===59||m===44){if(p===-1){throw new SyntaxError(`Unexpected character at index ${b}`)}if(g===-1)g=b;let a=e.slice(p,g);if(c){a=a.replace(/\\/g,"");c=false}push(i,d,a);if(m===44){push(s,h,i);i=Object.create(null);h=undefined}d=undefined;p=g=-1}else{throw new SyntaxError(`Unexpected character at index ${b}`)}}}if(p===-1||l||m===32||m===9){throw new SyntaxError("Unexpected end of input")}if(g===-1)g=b;const _=e.slice(p,g);if(h===undefined){push(s,_,i)}else{if(d===undefined){push(i,_,true)}else if(c){push(i,d,_.replace(/\\/g,""))}else{push(i,d,_)}push(s,h,i)}return s}function format(e){return Object.keys(e).map((s=>{let i=e[s];if(!Array.isArray(i))i=[i];return i.map((e=>[s].concat(Object.keys(e).map((s=>{let i=e[s];if(!Array.isArray(i))i=[i];return i.map((e=>e===true?s:`${s}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")}e.exports={format:format,parse:parse}},1356:e=>{"use strict";const s=Symbol("kDone");const i=Symbol("kRun");class Limiter{constructor(e){this[s]=()=>{this.pending--;this[i]()};this.concurrency=e||Infinity;this.jobs=[];this.pending=0}add(e){this.jobs.push(e);this[i]()}[i](){if(this.pending===this.concurrency)return;if(this.jobs.length){const e=this.jobs.shift();this.pending++;e(this[s])}}}e.exports=Limiter},6684:(e,s,i)=>{"use strict";const a=i(8761);const c=i(9436);const u=i(1356);const{kStatusCode:l}=i(5949);const h=Buffer.from([0,0,255,255]);const d=Symbol("permessage-deflate");const p=Symbol("total-length");const m=Symbol("callback");const g=Symbol("buffers");const b=Symbol("error");let _;class PerMessageDeflate{constructor(e,s,i){this._maxPayload=i|0;this._options=e||{};this._threshold=this._options.threshold!==undefined?this._options.threshold:1024;this._isServer=!!s;this._deflate=null;this._inflate=null;this.params=null;if(!_){const e=this._options.concurrencyLimit!==undefined?this._options.concurrencyLimit:10;_=new u(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};if(this._options.serverNoContextTakeover){e.server_no_context_takeover=true}if(this._options.clientNoContextTakeover){e.client_no_context_takeover=true}if(this._options.serverMaxWindowBits){e.server_max_window_bits=this._options.serverMaxWindowBits}if(this._options.clientMaxWindowBits){e.client_max_window_bits=this._options.clientMaxWindowBits}else if(this._options.clientMaxWindowBits==null){e.client_max_window_bits=true}return e}accept(e){e=this.normalizeParams(e);this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e);return this.params}cleanup(){if(this._inflate){this._inflate.close();this._inflate=null}if(this._deflate){const e=this._deflate[m];this._deflate.close();this._deflate=null;if(e){e(new Error("The deflate stream was closed while data was being processed"))}}}acceptAsServer(e){const s=this._options;const i=e.find((e=>{if(s.serverNoContextTakeover===false&&e.server_no_context_takeover||e.server_max_window_bits&&(s.serverMaxWindowBits===false||typeof s.serverMaxWindowBits==="number"&&s.serverMaxWindowBits>e.server_max_window_bits)||typeof s.clientMaxWindowBits==="number"&&!e.client_max_window_bits){return false}return true}));if(!i){throw new Error("None of the extension offers can be accepted")}if(s.serverNoContextTakeover){i.server_no_context_takeover=true}if(s.clientNoContextTakeover){i.client_no_context_takeover=true}if(typeof s.serverMaxWindowBits==="number"){i.server_max_window_bits=s.serverMaxWindowBits}if(typeof s.clientMaxWindowBits==="number"){i.client_max_window_bits=s.clientMaxWindowBits}else if(i.client_max_window_bits===true||s.clientMaxWindowBits===false){delete i.client_max_window_bits}return i}acceptAsClient(e){const s=e[0];if(this._options.clientNoContextTakeover===false&&s.client_no_context_takeover){throw new Error('Unexpected parameter "client_no_context_takeover"')}if(!s.client_max_window_bits){if(typeof this._options.clientMaxWindowBits==="number"){s.client_max_window_bits=this._options.clientMaxWindowBits}}else if(this._options.clientMaxWindowBits===false||typeof this._options.clientMaxWindowBits==="number"&&s.client_max_window_bits>this._options.clientMaxWindowBits){throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}return s}normalizeParams(e){e.forEach((e=>{Object.keys(e).forEach((s=>{let i=e[s];if(i.length>1){throw new Error(`Parameter "${s}" must have only a single value`)}i=i[0];if(s==="client_max_window_bits"){if(i!==true){const e=+i;if(!Number.isInteger(e)||e<8||e>15){throw new TypeError(`Invalid value for parameter "${s}": ${i}`)}i=e}else if(!this._isServer){throw new TypeError(`Invalid value for parameter "${s}": ${i}`)}}else if(s==="server_max_window_bits"){const e=+i;if(!Number.isInteger(e)||e<8||e>15){throw new TypeError(`Invalid value for parameter "${s}": ${i}`)}i=e}else if(s==="client_no_context_takeover"||s==="server_no_context_takeover"){if(i!==true){throw new TypeError(`Invalid value for parameter "${s}": ${i}`)}}else{throw new Error(`Unknown parameter "${s}"`)}e[s]=i}))}));return e}decompress(e,s,i){_.add((a=>{this._decompress(e,s,((e,s)=>{a();i(e,s)}))}))}compress(e,s,i){_.add((a=>{this._compress(e,s,((e,s)=>{a();i(e,s)}))}))}_decompress(e,s,i){const u=this._isServer?"client":"server";if(!this._inflate){const e=`${u}_max_window_bits`;const s=typeof this.params[e]!=="number"?a.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=a.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s});this._inflate[d]=this;this._inflate[p]=0;this._inflate[g]=[];this._inflate.on("error",inflateOnError);this._inflate.on("data",inflateOnData)}this._inflate[m]=i;this._inflate.write(e);if(s)this._inflate.write(h);this._inflate.flush((()=>{const e=this._inflate[b];if(e){this._inflate.close();this._inflate=null;i(e);return}const a=c.concat(this._inflate[g],this._inflate[p]);if(this._inflate._readableState.endEmitted){this._inflate.close();this._inflate=null}else{this._inflate[p]=0;this._inflate[g]=[];if(s&&this.params[`${u}_no_context_takeover`]){this._inflate.reset()}}i(null,a)}))}_compress(e,s,i){const u=this._isServer?"server":"client";if(!this._deflate){const e=`${u}_max_window_bits`;const s=typeof this.params[e]!=="number"?a.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=a.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s});this._deflate[p]=0;this._deflate[g]=[];this._deflate.on("data",deflateOnData)}this._deflate[m]=i;this._deflate.write(e);this._deflate.flush(a.Z_SYNC_FLUSH,(()=>{if(!this._deflate){return}let e=c.concat(this._deflate[g],this._deflate[p]);if(s)e=e.slice(0,e.length-4);this._deflate[m]=null;this._deflate[p]=0;this._deflate[g]=[];if(s&&this.params[`${u}_no_context_takeover`]){this._deflate.reset()}i(null,e)}))}}e.exports=PerMessageDeflate;function deflateOnData(e){this[g].push(e);this[p]+=e.length}function inflateOnData(e){this[p]+=e.length;if(this[d]._maxPayload<1||this[p]<=this[d]._maxPayload){this[g].push(e);return}this[b]=new RangeError("Max payload size exceeded");this[b].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH";this[b][l]=1009;this.removeListener("data",inflateOnData);this.reset()}function inflateOnError(e){this[d]._inflate=null;e[l]=1007;this[m](e)}},5066:(e,s,i)=>{"use strict";const{Writable:a}=i(2413);const c=i(6684);const{BINARY_TYPES:u,EMPTY_BUFFER:l,kStatusCode:h,kWebSocket:d}=i(5949);const{concat:p,toArrayBuffer:m,unmask:g}=i(9436);const{isValidStatusCode:b,isValidUTF8:_}=i(6279);const y=0;const v=1;const w=2;const E=3;const k=4;const C=5;class Receiver extends a{constructor(e={}){super();this._binaryType=e.binaryType||u[0];this._extensions=e.extensions||{};this._isServer=!!e.isServer;this._maxPayload=e.maxPayload|0;this._skipUTF8Validation=!!e.skipUTF8Validation;this[d]=undefined;this._bufferedBytes=0;this._buffers=[];this._compressed=false;this._payloadLength=0;this._mask=undefined;this._fragmented=0;this._masked=false;this._fin=false;this._opcode=0;this._totalPayloadLength=0;this._messageLength=0;this._fragments=[];this._state=y;this._loop=false}_write(e,s,i){if(this._opcode===8&&this._state==y)return i();this._bufferedBytes+=e.length;this._buffers.push(e);this.startLoop(i)}consume(e){this._bufferedBytes-=e;if(e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const s=this._buffers[0];this._buffers[0]=s.slice(e);return s.slice(0,e)}const s=Buffer.allocUnsafe(e);do{const i=this._buffers[0];const a=s.length-e;if(e>=i.length){s.set(this._buffers.shift(),a)}else{s.set(new Uint8Array(i.buffer,i.byteOffset,e),a);this._buffers[0]=i.slice(e)}e-=i.length}while(e>0);return s}startLoop(e){let s;this._loop=true;do{switch(this._state){case y:s=this.getInfo();break;case v:s=this.getPayloadLength16();break;case w:s=this.getPayloadLength64();break;case E:this.getMask();break;case k:s=this.getData(e);break;default:this._loop=false;return}}while(this._loop);e(s)}getInfo(){if(this._bufferedBytes<2){this._loop=false;return}const e=this.consume(2);if((e[0]&48)!==0){this._loop=false;return error(RangeError,"RSV2 and RSV3 must be clear",true,1002,"WS_ERR_UNEXPECTED_RSV_2_3")}const s=(e[0]&64)===64;if(s&&!this._extensions[c.extensionName]){this._loop=false;return error(RangeError,"RSV1 must be clear",true,1002,"WS_ERR_UNEXPECTED_RSV_1")}this._fin=(e[0]&128)===128;this._opcode=e[0]&15;this._payloadLength=e[1]&127;if(this._opcode===0){if(s){this._loop=false;return error(RangeError,"RSV1 must be clear",true,1002,"WS_ERR_UNEXPECTED_RSV_1")}if(!this._fragmented){this._loop=false;return error(RangeError,"invalid opcode 0",true,1002,"WS_ERR_INVALID_OPCODE")}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){this._loop=false;return error(RangeError,`invalid opcode ${this._opcode}`,true,1002,"WS_ERR_INVALID_OPCODE")}this._compressed=s}else if(this._opcode>7&&this._opcode<11){if(!this._fin){this._loop=false;return error(RangeError,"FIN must be set",true,1002,"WS_ERR_EXPECTED_FIN")}if(s){this._loop=false;return error(RangeError,"RSV1 must be clear",true,1002,"WS_ERR_UNEXPECTED_RSV_1")}if(this._payloadLength>125){this._loop=false;return error(RangeError,`invalid payload length ${this._payloadLength}`,true,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}}else{this._loop=false;return error(RangeError,`invalid opcode ${this._opcode}`,true,1002,"WS_ERR_INVALID_OPCODE")}if(!this._fin&&!this._fragmented)this._fragmented=this._opcode;this._masked=(e[1]&128)===128;if(this._isServer){if(!this._masked){this._loop=false;return error(RangeError,"MASK must be set",true,1002,"WS_ERR_EXPECTED_MASK")}}else if(this._masked){this._loop=false;return error(RangeError,"MASK must be clear",true,1002,"WS_ERR_UNEXPECTED_MASK")}if(this._payloadLength===126)this._state=v;else if(this._payloadLength===127)this._state=w;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=false;return}this._payloadLength=this.consume(2).readUInt16BE(0);return this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=false;return}const e=this.consume(8);const s=e.readUInt32BE(0);if(s>Math.pow(2,53-32)-1){this._loop=false;return error(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",false,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")}this._payloadLength=s*Math.pow(2,32)+e.readUInt32BE(4);return this.haveLength()}haveLength(){if(this._payloadLength&&this._opcode<8){this._totalPayloadLength+=this._payloadLength;if(this._totalPayloadLength>this._maxPayload&&this._maxPayload>0){this._loop=false;return error(RangeError,"Max payload size exceeded",false,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH")}}if(this._masked)this._state=E;else this._state=k}getMask(){if(this._bufferedBytes<4){this._loop=false;return}this._mask=this.consume(4);this._state=k}getData(e){let s=l;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=false;return}s=this.consume(this._payloadLength);if(this._masked)g(s,this._mask)}if(this._opcode>7)return this.controlMessage(s);if(this._compressed){this._state=C;this.decompress(s,e);return}if(s.length){this._messageLength=this._totalPayloadLength;this._fragments.push(s)}return this.dataMessage()}decompress(e,s){const i=this._extensions[c.extensionName];i.decompress(e,this._fin,((e,i)=>{if(e)return s(e);if(i.length){this._messageLength+=i.length;if(this._messageLength>this._maxPayload&&this._maxPayload>0){return s(error(RangeError,"Max payload size exceeded",false,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"))}this._fragments.push(i)}const a=this.dataMessage();if(a)return s(a);this.startLoop(s)}))}dataMessage(){if(this._fin){const e=this._messageLength;const s=this._fragments;this._totalPayloadLength=0;this._messageLength=0;this._fragmented=0;this._fragments=[];if(this._opcode===2){let i;if(this._binaryType==="nodebuffer"){i=p(s,e)}else if(this._binaryType==="arraybuffer"){i=m(p(s,e))}else{i=s}this.emit("message",i,true)}else{const i=p(s,e);if(!this._skipUTF8Validation&&!_(i)){this._loop=false;return error(Error,"invalid UTF-8 sequence",true,1007,"WS_ERR_INVALID_UTF8")}this.emit("message",i,false)}}this._state=y}controlMessage(e){if(this._opcode===8){this._loop=false;if(e.length===0){this.emit("conclude",1005,l);this.end()}else if(e.length===1){return error(RangeError,"invalid payload length 1",true,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else{const s=e.readUInt16BE(0);if(!b(s)){return error(RangeError,`invalid status code ${s}`,true,1002,"WS_ERR_INVALID_CLOSE_CODE")}const i=e.slice(2);if(!this._skipUTF8Validation&&!_(i)){return error(Error,"invalid UTF-8 sequence",true,1007,"WS_ERR_INVALID_UTF8")}this.emit("conclude",s,i);this.end()}}else if(this._opcode===9){this.emit("ping",e)}else{this.emit("pong",e)}this._state=y}}e.exports=Receiver;function error(e,s,i,a,c){const u=new e(i?`Invalid WebSocket frame: ${s}`:s);Error.captureStackTrace(u,error);u.code=c;u[h]=a;return u}},6947:(e,s,i)=>{"use strict";const a=i(1631);const c=i(4016);const{randomFillSync:u}=i(6417);const l=i(6684);const{EMPTY_BUFFER:h}=i(5949);const{isValidStatusCode:d}=i(6279);const{mask:p,toBuffer:m}=i(9436);const g=Buffer.alloc(4);class Sender{constructor(e,s){this._extensions=s||{};this._socket=e;this._firstFragment=true;this._compress=false;this._bufferedBytes=0;this._deflating=false;this._queue=[]}static frame(e,s){const i=s.mask&&s.readOnly;let a=s.mask?6:2;let c=e.length;if(e.length>=65536){a+=8;c=127}else if(e.length>125){a+=2;c=126}const l=Buffer.allocUnsafe(i?e.length+a:a);l[0]=s.fin?s.opcode|128:s.opcode;if(s.rsv1)l[0]|=64;l[1]=c;if(c===126){l.writeUInt16BE(e.length,2)}else if(c===127){l.writeUInt32BE(0,2);l.writeUInt32BE(e.length,6)}if(!s.mask)return[l,e];u(g,0,4);l[1]|=128;l[a-4]=g[0];l[a-3]=g[1];l[a-2]=g[2];l[a-1]=g[3];if(i){p(e,g,l,a,e.length);return[l]}p(e,g,e,0,e.length);return[l,e]}close(e,s,i,a){let c;if(e===undefined){c=h}else if(typeof e!=="number"||!d(e)){throw new TypeError("First argument must be a valid error code number")}else if(s===undefined||!s.length){c=Buffer.allocUnsafe(2);c.writeUInt16BE(e,0)}else{const i=Buffer.byteLength(s);if(i>123){throw new RangeError("The message must not be greater than 123 bytes")}c=Buffer.allocUnsafe(2+i);c.writeUInt16BE(e,0);if(typeof s==="string"){c.write(s,2)}else{c.set(s,2)}}if(this._deflating){this.enqueue([this.doClose,c,i,a])}else{this.doClose(c,i,a)}}doClose(e,s,i){this.sendFrame(Sender.frame(e,{fin:true,rsv1:false,opcode:8,mask:s,readOnly:false}),i)}ping(e,s,i){const a=m(e);if(a.length>125){throw new RangeError("The data size must not be greater than 125 bytes")}if(this._deflating){this.enqueue([this.doPing,a,s,m.readOnly,i])}else{this.doPing(a,s,m.readOnly,i)}}doPing(e,s,i,a){this.sendFrame(Sender.frame(e,{fin:true,rsv1:false,opcode:9,mask:s,readOnly:i}),a)}pong(e,s,i){const a=m(e);if(a.length>125){throw new RangeError("The data size must not be greater than 125 bytes")}if(this._deflating){this.enqueue([this.doPong,a,s,m.readOnly,i])}else{this.doPong(a,s,m.readOnly,i)}}doPong(e,s,i,a){this.sendFrame(Sender.frame(e,{fin:true,rsv1:false,opcode:10,mask:s,readOnly:i}),a)}send(e,s,i){const a=m(e);const c=this._extensions[l.extensionName];let u=s.binary?2:1;let h=s.compress;if(this._firstFragment){this._firstFragment=false;if(h&&c){h=a.length>=c._threshold}this._compress=h}else{h=false;u=0}if(s.fin)this._firstFragment=true;if(c){const e={fin:s.fin,rsv1:h,opcode:u,mask:s.mask,readOnly:m.readOnly};if(this._deflating){this.enqueue([this.dispatch,a,this._compress,e,i])}else{this.dispatch(a,this._compress,e,i)}}else{this.sendFrame(Sender.frame(a,{fin:s.fin,rsv1:false,opcode:u,mask:s.mask,readOnly:m.readOnly}),i)}}dispatch(e,s,i,a){if(!s){this.sendFrame(Sender.frame(e,i),a);return}const c=this._extensions[l.extensionName];this._bufferedBytes+=e.length;this._deflating=true;c.compress(e,i.fin,((s,c)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");if(typeof a==="function")a(e);for(let s=0;s<this._queue.length;s++){const i=this._queue[s][4];if(typeof i==="function")i(e)}return}this._bufferedBytes-=e.length;this._deflating=false;i.readOnly=false;this.sendFrame(Sender.frame(c,i),a);this.dequeue()}))}dequeue(){while(!this._deflating&&this._queue.length){const e=this._queue.shift();this._bufferedBytes-=e[1].length;Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length;this._queue.push(e)}sendFrame(e,s){if(e.length===2){this._socket.cork();this._socket.write(e[0]);this._socket.write(e[1],s);this._socket.uncork()}else{this._socket.write(e[0],s)}}}e.exports=Sender},1658:(e,s,i)=>{"use strict";const{Duplex:a}=i(2413);function emitClose(e){e.emit("close")}function duplexOnEnd(){if(!this.destroyed&&this._writableState.finished){this.destroy()}}function duplexOnError(e){this.removeListener("error",duplexOnError);this.destroy();if(this.listenerCount("error")===0){this.emit("error",e)}}function createWebSocketStream(e,s){let i=true;let c=true;function receiverOnDrain(){if(i)e._socket.resume()}if(e.readyState===e.CONNECTING){e.once("open",(function open(){e._receiver.removeAllListeners("drain");e._receiver.on("drain",receiverOnDrain)}))}else{e._receiver.removeAllListeners("drain");e._receiver.on("drain",receiverOnDrain)}const u=new a({...s,autoDestroy:false,emitClose:false,objectMode:false,writableObjectMode:false});e.on("message",(function message(s,a){const c=!a&&u._readableState.objectMode?s.toString():s;if(!u.push(c)){i=false;e._socket.pause()}}));e.once("error",(function error(e){if(u.destroyed)return;c=false;u.destroy(e)}));e.once("close",(function close(){if(u.destroyed)return;u.push(null)}));u._destroy=function(s,i){if(e.readyState===e.CLOSED){i(s);process.nextTick(emitClose,u);return}let a=false;e.once("error",(function error(e){a=true;i(e)}));e.once("close",(function close(){if(!a)i(s);process.nextTick(emitClose,u)}));if(c)e.terminate()};u._final=function(s){if(e.readyState===e.CONNECTING){e.once("open",(function open(){u._final(s)}));return}if(e._socket===null)return;if(e._socket._writableState.finished){s();if(u._readableState.endEmitted)u.destroy()}else{e._socket.once("finish",(function finish(){s()}));e.close()}};u._read=function(){if(e.readyState===e.OPEN&&!i){i=true;if(!e._receiver._writableState.needDrain)e._socket.resume()}};u._write=function(s,i,a){if(e.readyState===e.CONNECTING){e.once("open",(function open(){u._write(s,i,a)}));return}e.send(s,a)};u.on("end",duplexOnEnd);u.on("error",duplexOnError);return u}e.exports=createWebSocketStream},6668:(e,s,i)=>{"use strict";const{tokenChars:a}=i(6279);function parse(e){const s=new Set;let i=-1;let c=-1;let u=0;for(u;u<e.length;u++){const l=e.charCodeAt(u);if(c===-1&&a[l]===1){if(i===-1)i=u}else if(u!==0&&(l===32||l===9)){if(c===-1&&i!==-1)c=u}else if(l===44){if(i===-1){throw new SyntaxError(`Unexpected character at index ${u}`)}if(c===-1)c=u;const a=e.slice(i,c);if(s.has(a)){throw new SyntaxError(`The "${a}" subprotocol is duplicated`)}s.add(a);i=c=-1}else{throw new SyntaxError(`Unexpected character at index ${u}`)}}if(i===-1||c!==-1){throw new SyntaxError("Unexpected end of input")}const l=e.slice(i,u);if(s.has(l)){throw new SyntaxError(`The "${l}" subprotocol is duplicated`)}s.add(l);return s}e.exports={parse:parse}},6279:(e,s,i)=>{"use strict";const a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function isValidStatusCode(e){return e>=1e3&&e<=1014&&e!==1004&&e!==1005&&e!==1006||e>=3e3&&e<=4999}function _isValidUTF8(e){const s=e.length;let i=0;while(i<s){if((e[i]&128)===0){i++}else if((e[i]&224)===192){if(i+1===s||(e[i+1]&192)!==128||(e[i]&254)===192){return false}i+=2}else if((e[i]&240)===224){if(i+2>=s||(e[i+1]&192)!==128||(e[i+2]&192)!==128||e[i]===224&&(e[i+1]&224)===128||e[i]===237&&(e[i+1]&224)===160){return false}i+=3}else if((e[i]&248)===240){if(i+3>=s||(e[i+1]&192)!==128||(e[i+2]&192)!==128||(e[i+3]&192)!==128||e[i]===240&&(e[i+1]&240)===128||e[i]===244&&e[i+1]>143||e[i]>244){return false}i+=4}else{return false}}return true}try{const s=i(5161);e.exports={isValidStatusCode:isValidStatusCode,isValidUTF8(e){return e.length<150?_isValidUTF8(e):s(e)},tokenChars:a}}catch(s){e.exports={isValidStatusCode:isValidStatusCode,isValidUTF8:_isValidUTF8,tokenChars:a}}},8887:(e,s,i)=>{"use strict";const a=i(8614);const c=i(8605);const u=i(7211);const l=i(1631);const h=i(4016);const{createHash:d}=i(6417);const p=i(2035);const m=i(6684);const g=i(6668);const b=i(1518);const{GUID:_,kWebSocket:y}=i(5949);const v=/^[+/0-9A-Za-z]{22}==$/;const w=0;const E=1;const k=2;class WebSocketServer extends a{constructor(e,s){super();e={maxPayload:100*1024*1024,skipUTF8Validation:false,perMessageDeflate:false,handleProtocols:null,clientTracking:true,verifyClient:null,noServer:false,backlog:null,server:null,host:null,path:null,port:null,...e};if(e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer){throw new TypeError('One and only one of the "port", "server", or "noServer" options '+"must be specified")}if(e.port!=null){this._server=c.createServer(((e,s)=>{const i=c.STATUS_CODES[426];s.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"});s.end(i)}));this._server.listen(e.port,e.host,e.backlog,s)}else if(e.server){this._server=e.server}if(this._server){const e=this.emit.bind(this,"connection");this._removeListeners=addListeners(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,i,a)=>{this.handleUpgrade(s,i,a,e)}})}if(e.perMessageDeflate===true)e.perMessageDeflate={};if(e.clientTracking){this.clients=new Set;this._shouldEmitClose=false}this.options=e;this._state=w}address(){if(this.options.noServer){throw new Error('The server is operating in "noServer" mode')}if(!this._server)return null;return this._server.address()}close(e){if(this._state===k){if(e){this.once("close",(()=>{e(new Error("The server is not running"))}))}process.nextTick(emitClose,this);return}if(e)this.once("close",e);if(this._state===E)return;this._state=E;if(this.options.noServer||this.options.server){if(this._server){this._removeListeners();this._removeListeners=this._server=null}if(this.clients){if(!this.clients.size){process.nextTick(emitClose,this)}else{this._shouldEmitClose=true}}else{process.nextTick(emitClose,this)}}else{const e=this._server;this._removeListeners();this._removeListeners=this._server=null;e.close((()=>{emitClose(this)}))}}shouldHandle(e){if(this.options.path){const s=e.url.indexOf("?");const i=s!==-1?e.url.slice(0,s):e.url;if(i!==this.options.path)return false}return true}handleUpgrade(e,s,i,a){s.on("error",socketOnError);const c=e.headers["sec-websocket-key"]!==undefined?e.headers["sec-websocket-key"]:false;const u=+e.headers["sec-websocket-version"];if(e.method!=="GET"||e.headers.upgrade.toLowerCase()!=="websocket"||!c||!v.test(c)||u!==8&&u!==13||!this.shouldHandle(e)){return abortHandshake(s,400)}const l=e.headers["sec-websocket-protocol"];let h=new Set;if(l!==undefined){try{h=g.parse(l)}catch(e){return abortHandshake(s,400)}}const d=e.headers["sec-websocket-extensions"];const b={};if(this.options.perMessageDeflate&&d!==undefined){const e=new m(this.options.perMessageDeflate,true,this.options.maxPayload);try{const s=p.parse(d);if(s[m.extensionName]){e.accept(s[m.extensionName]);b[m.extensionName]=e}}catch(e){return abortHandshake(s,400)}}if(this.options.verifyClient){const l={origin:e.headers[`${u===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(l,((u,l,d,p)=>{if(!u){return abortHandshake(s,l||401,d,p)}this.completeUpgrade(b,c,h,e,s,i,a)}));return}if(!this.options.verifyClient(l))return abortHandshake(s,401)}this.completeUpgrade(b,c,h,e,s,i,a)}completeUpgrade(e,s,i,a,c,u,l){if(!c.readable||!c.writable)return c.destroy();if(c[y]){throw new Error("server.handleUpgrade() was called more than once with the same "+"socket, possibly due to a misconfiguration")}if(this._state>w)return abortHandshake(c,503);const h=d("sha1").update(s+_).digest("base64");const g=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${h}`];const v=new b(null);if(i.size){const e=this.options.handleProtocols?this.options.handleProtocols(i,a):i.values().next().value;if(e){g.push(`Sec-WebSocket-Protocol: ${e}`);v._protocol=e}}if(e[m.extensionName]){const s=e[m.extensionName].params;const i=p.format({[m.extensionName]:[s]});g.push(`Sec-WebSocket-Extensions: ${i}`);v._extensions=e}this.emit("headers",g,a);c.write(g.concat("\r\n").join("\r\n"));c.removeListener("error",socketOnError);v.setSocket(c,u,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation});if(this.clients){this.clients.add(v);v.on("close",(()=>{this.clients.delete(v);if(this._shouldEmitClose&&!this.clients.size){process.nextTick(emitClose,this)}}))}l(v,a)}}e.exports=WebSocketServer;function addListeners(e,s){for(const i of Object.keys(s))e.on(i,s[i]);return function removeListeners(){for(const i of Object.keys(s)){e.removeListener(i,s[i])}}}function emitClose(e){e._state=k;e.emit("close")}function socketOnError(){this.destroy()}function abortHandshake(e,s,i,a){if(e.writable){i=i||c.STATUS_CODES[s];a={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(i),...a};e.write(`HTTP/1.1 ${s} ${c.STATUS_CODES[s]}\r\n`+Object.keys(a).map((e=>`${e}: ${a[e]}`)).join("\r\n")+"\r\n\r\n"+i)}e.removeListener("error",socketOnError);e.destroy()}},1518:(e,s,i)=>{"use strict";const a=i(8614);const c=i(7211);const u=i(8605);const l=i(1631);const h=i(4016);const{randomBytes:d,createHash:p}=i(6417);const{Readable:m}=i(2413);const{URL:g}=i(8835);const b=i(6684);const _=i(5066);const y=i(6947);const{BINARY_TYPES:v,EMPTY_BUFFER:w,GUID:E,kForOnEventAttribute:k,kListener:C,kStatusCode:S,kWebSocket:x,NOOP:O}=i(5949);const{EventTarget:{addEventListener:R,removeEventListener:T}}=i(4561);const{format:L,parse:N}=i(2035);const{toBuffer:B}=i(9436);const D=["CONNECTING","OPEN","CLOSING","CLOSED"];const P=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;const A=[8,13];const U=30*1e3;class WebSocket extends a{constructor(e,s,i){super();this._binaryType=v[0];this._closeCode=1006;this._closeFrameReceived=false;this._closeFrameSent=false;this._closeMessage=w;this._closeTimer=null;this._extensions={};this._protocol="";this._readyState=WebSocket.CONNECTING;this._receiver=null;this._sender=null;this._socket=null;if(e!==null){this._bufferedAmount=0;this._isServer=false;this._redirects=0;if(s===undefined){s=[]}else if(!Array.isArray(s)){if(typeof s==="object"&&s!==null){i=s;s=[]}else{s=[s]}}initAsClient(this,e,s,i)}else{this._isServer=true}}get binaryType(){return this._binaryType}set binaryType(e){if(!v.includes(e))return;this._binaryType=e;if(this._receiver)this._receiver._binaryType=e}get bufferedAmount(){if(!this._socket)return this._bufferedAmount;return this._socket._writableState.length+this._sender._bufferedBytes}get extensions(){return Object.keys(this._extensions).join()}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,s,i){const a=new _({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation});this._sender=new y(e,this._extensions);this._receiver=a;this._socket=e;a[x]=this;e[x]=this;a.on("conclude",receiverOnConclude);a.on("drain",receiverOnDrain);a.on("error",receiverOnError);a.on("message",receiverOnMessage);a.on("ping",receiverOnPing);a.on("pong",receiverOnPong);e.setTimeout(0);e.setNoDelay();if(s.length>0)e.unshift(s);e.on("close",socketOnClose);e.on("data",socketOnData);e.on("end",socketOnEnd);e.on("error",socketOnError);this._readyState=WebSocket.OPEN;this.emit("open")}emitClose(){if(!this._socket){this._readyState=WebSocket.CLOSED;this.emit("close",this._closeCode,this._closeMessage);return}if(this._extensions[b.extensionName]){this._extensions[b.extensionName].cleanup()}this._receiver.removeAllListeners();this._readyState=WebSocket.CLOSED;this.emit("close",this._closeCode,this._closeMessage)}close(e,s){if(this.readyState===WebSocket.CLOSED)return;if(this.readyState===WebSocket.CONNECTING){const e="WebSocket was closed before the connection was established";return abortHandshake(this,this._req,e)}if(this.readyState===WebSocket.CLOSING){if(this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)){this._socket.end()}return}this._readyState=WebSocket.CLOSING;this._sender.close(e,s,!this._isServer,(e=>{if(e)return;this._closeFrameSent=true;if(this._closeFrameReceived||this._receiver._writableState.errorEmitted){this._socket.end()}}));this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),U)}ping(e,s,i){if(this.readyState===WebSocket.CONNECTING){throw new Error("WebSocket is not open: readyState 0 (CONNECTING)")}if(typeof e==="function"){i=e;e=s=undefined}else if(typeof s==="function"){i=s;s=undefined}if(typeof e==="number")e=e.toString();if(this.readyState!==WebSocket.OPEN){sendAfterClose(this,e,i);return}if(s===undefined)s=!this._isServer;this._sender.ping(e||w,s,i)}pong(e,s,i){if(this.readyState===WebSocket.CONNECTING){throw new Error("WebSocket is not open: readyState 0 (CONNECTING)")}if(typeof e==="function"){i=e;e=s=undefined}else if(typeof s==="function"){i=s;s=undefined}if(typeof e==="number")e=e.toString();if(this.readyState!==WebSocket.OPEN){sendAfterClose(this,e,i);return}if(s===undefined)s=!this._isServer;this._sender.pong(e||w,s,i)}send(e,s,i){if(this.readyState===WebSocket.CONNECTING){throw new Error("WebSocket is not open: readyState 0 (CONNECTING)")}if(typeof s==="function"){i=s;s={}}if(typeof e==="number")e=e.toString();if(this.readyState!==WebSocket.OPEN){sendAfterClose(this,e,i);return}const a={binary:typeof e!=="string",mask:!this._isServer,compress:true,fin:true,...s};if(!this._extensions[b.extensionName]){a.compress=false}this._sender.send(e||w,a,i)}terminate(){if(this.readyState===WebSocket.CLOSED)return;if(this.readyState===WebSocket.CONNECTING){const e="WebSocket was closed before the connection was established";return abortHandshake(this,this._req,e)}if(this._socket){this._readyState=WebSocket.CLOSING;this._socket.destroy()}}}Object.defineProperty(WebSocket,"CONNECTING",{enumerable:true,value:D.indexOf("CONNECTING")});Object.defineProperty(WebSocket.prototype,"CONNECTING",{enumerable:true,value:D.indexOf("CONNECTING")});Object.defineProperty(WebSocket,"OPEN",{enumerable:true,value:D.indexOf("OPEN")});Object.defineProperty(WebSocket.prototype,"OPEN",{enumerable:true,value:D.indexOf("OPEN")});Object.defineProperty(WebSocket,"CLOSING",{enumerable:true,value:D.indexOf("CLOSING")});Object.defineProperty(WebSocket.prototype,"CLOSING",{enumerable:true,value:D.indexOf("CLOSING")});Object.defineProperty(WebSocket,"CLOSED",{enumerable:true,value:D.indexOf("CLOSED")});Object.defineProperty(WebSocket.prototype,"CLOSED",{enumerable:true,value:D.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach((e=>{Object.defineProperty(WebSocket.prototype,e,{enumerable:true})}));["open","error","close","message"].forEach((e=>{Object.defineProperty(WebSocket.prototype,`on${e}`,{enumerable:true,get(){for(const s of this.listeners(e)){if(s[k])return s[C]}return null},set(s){for(const s of this.listeners(e)){if(s[k]){this.removeListener(e,s);break}}if(typeof s!=="function")return;this.addEventListener(e,s,{[k]:true})}})}));WebSocket.prototype.addEventListener=R;WebSocket.prototype.removeEventListener=T;e.exports=WebSocket;function initAsClient(e,s,i,a){const l={protocolVersion:A[1],maxPayload:100*1024*1024,skipUTF8Validation:false,perMessageDeflate:true,followRedirects:false,maxRedirects:10,...a,createConnection:undefined,socketPath:undefined,hostname:undefined,protocol:undefined,timeout:undefined,method:undefined,host:undefined,path:undefined,port:undefined};if(!A.includes(l.protocolVersion)){throw new RangeError(`Unsupported protocol version: ${l.protocolVersion} `+`(supported versions: ${A.join(", ")})`)}let h;if(s instanceof g){h=s;e._url=s.href}else{try{h=new g(s)}catch(e){throw new SyntaxError(`Invalid URL: ${s}`)}e._url=s}const m=h.protocol==="wss:";const _=h.protocol==="ws+unix:";if(h.protocol!=="ws:"&&!m&&!_){throw new SyntaxError('The URL\'s protocol must be one of "ws:", "wss:", or "ws+unix:"')}if(_&&!h.pathname){throw new SyntaxError("The URL's pathname is empty")}if(h.hash){throw new SyntaxError("The URL contains a fragment identifier")}const y=m?443:80;const v=d(16).toString("base64");const w=m?c.get:u.get;const k=new Set;let C;l.createConnection=m?tlsConnect:netConnect;l.defaultPort=l.defaultPort||y;l.port=h.port||y;l.host=h.hostname.startsWith("[")?h.hostname.slice(1,-1):h.hostname;l.headers={"Sec-WebSocket-Version":l.protocolVersion,"Sec-WebSocket-Key":v,Connection:"Upgrade",Upgrade:"websocket",...l.headers};l.path=h.pathname+h.search;l.timeout=l.handshakeTimeout;if(l.perMessageDeflate){C=new b(l.perMessageDeflate!==true?l.perMessageDeflate:{},false,l.maxPayload);l.headers["Sec-WebSocket-Extensions"]=L({[b.extensionName]:C.offer()})}if(i.length){for(const e of i){if(typeof e!=="string"||!P.test(e)||k.has(e)){throw new SyntaxError("An invalid or duplicated subprotocol was specified")}k.add(e)}l.headers["Sec-WebSocket-Protocol"]=i.join(",")}if(l.origin){if(l.protocolVersion<13){l.headers["Sec-WebSocket-Origin"]=l.origin}else{l.headers.Origin=l.origin}}if(h.username||h.password){l.auth=`${h.username}:${h.password}`}if(_){const e=l.path.split(":");l.socketPath=e[0];l.path=e[1]}let S=e._req=w(l);if(l.timeout){S.on("timeout",(()=>{abortHandshake(e,S,"Opening handshake has timed out")}))}S.on("error",(s=>{if(S===null||S.aborted)return;S=e._req=null;e._readyState=WebSocket.CLOSING;e.emit("error",s);e.emitClose()}));S.on("response",(c=>{const u=c.headers.location;const h=c.statusCode;if(u&&l.followRedirects&&h>=300&&h<400){if(++e._redirects>l.maxRedirects){abortHandshake(e,S,"Maximum redirects exceeded");return}S.abort();const c=new g(u,s);initAsClient(e,c,i,a)}else if(!e.emit("unexpected-response",S,c)){abortHandshake(e,S,`Unexpected server response: ${c.statusCode}`)}}));S.on("upgrade",((s,i,a)=>{e.emit("upgrade",s);if(e.readyState!==WebSocket.CONNECTING)return;S=e._req=null;const c=p("sha1").update(v+E).digest("base64");if(s.headers["sec-websocket-accept"]!==c){abortHandshake(e,i,"Invalid Sec-WebSocket-Accept header");return}const u=s.headers["sec-websocket-protocol"];let h;if(u!==undefined){if(!k.size){h="Server sent a subprotocol but none was requested"}else if(!k.has(u)){h="Server sent an invalid subprotocol"}}else if(k.size){h="Server sent no subprotocol"}if(h){abortHandshake(e,i,h);return}if(u)e._protocol=u;const d=s.headers["sec-websocket-extensions"];if(d!==undefined){if(!C){const s="Server sent a Sec-WebSocket-Extensions header but no extension "+"was requested";abortHandshake(e,i,s);return}let s;try{s=N(d)}catch(s){const a="Invalid Sec-WebSocket-Extensions header";abortHandshake(e,i,a);return}const a=Object.keys(s);if(a.length!==1||a[0]!==b.extensionName){const s="Server indicated an extension that was not requested";abortHandshake(e,i,s);return}try{C.accept(s[b.extensionName])}catch(s){const a="Invalid Sec-WebSocket-Extensions header";abortHandshake(e,i,a);return}e._extensions[b.extensionName]=C}e.setSocket(i,a,{maxPayload:l.maxPayload,skipUTF8Validation:l.skipUTF8Validation})}))}function netConnect(e){e.path=e.socketPath;return l.connect(e)}function tlsConnect(e){e.path=undefined;if(!e.servername&&e.servername!==""){e.servername=l.isIP(e.host)?"":e.host}return h.connect(e)}function abortHandshake(e,s,i){e._readyState=WebSocket.CLOSING;const a=new Error(i);Error.captureStackTrace(a,abortHandshake);if(s.setHeader){s.abort();if(s.socket&&!s.socket.destroyed){s.socket.destroy()}s.once("abort",e.emitClose.bind(e));e.emit("error",a)}else{s.destroy(a);s.once("error",e.emit.bind(e,"error"));s.once("close",e.emitClose.bind(e))}}function sendAfterClose(e,s,i){if(s){const i=B(s).length;if(e._socket)e._sender._bufferedBytes+=i;else e._bufferedAmount+=i}if(i){const s=new Error(`WebSocket is not open: readyState ${e.readyState} `+`(${D[e.readyState]})`);i(s)}}function receiverOnConclude(e,s){const i=this[x];i._closeFrameReceived=true;i._closeMessage=s;i._closeCode=e;if(i._socket[x]===undefined)return;i._socket.removeListener("data",socketOnData);process.nextTick(resume,i._socket);if(e===1005)i.close();else i.close(e,s)}function receiverOnDrain(){this[x]._socket.resume()}function receiverOnError(e){const s=this[x];if(s._socket[x]!==undefined){s._socket.removeListener("data",socketOnData);process.nextTick(resume,s._socket);s.close(e[S])}s.emit("error",e)}function receiverOnFinish(){this[x].emitClose()}function receiverOnMessage(e,s){this[x].emit("message",e,s)}function receiverOnPing(e){const s=this[x];s.pong(e,!s._isServer,O);s.emit("ping",e)}function receiverOnPong(e){this[x].emit("pong",e)}function resume(e){e.resume()}function socketOnClose(){const e=this[x];this.removeListener("close",socketOnClose);this.removeListener("data",socketOnData);this.removeListener("end",socketOnEnd);e._readyState=WebSocket.CLOSING;let s;if(!this._readableState.endEmitted&&!e._closeFrameReceived&&!e._receiver._writableState.errorEmitted&&(s=e._socket.read())!==null){e._receiver.write(s)}e._receiver.end();this[x]=undefined;clearTimeout(e._closeTimer);if(e._receiver._writableState.finished||e._receiver._writableState.errorEmitted){e.emitClose()}else{e._receiver.on("error",receiverOnFinish);e._receiver.on("finish",receiverOnFinish)}}function socketOnData(e){if(!this[x]._receiver.write(e)){this.pause()}}function socketOnEnd(){const e=this[x];e._readyState=WebSocket.CLOSING;e._receiver.end();this.end()}function socketOnError(){const e=this[x];this.removeListener("error",socketOnError);this.on("error",O);if(e){e._readyState=WebSocket.CLOSING;this.destroy()}}},1313:(e,s,i)=>{"use strict";i.r(s);i.d(s,{getDatabase:()=>getDatabase,getDiscordClient:()=>getDiscordClient,getLocaleHelper:()=>getLocaleHelper,getMoonrakerClient:()=>getMoonrakerClient});const a=JSON.parse('{"u2":"mooncord","i8":"0.0.5"}');var c=i(1299);const u=require("discord.js");const l=require("fs");const h=process.argv.slice(2);class ConfigHelper{constructor(){this.configPath=`${h[0]}/mooncord.json`;this.configRaw=(0,l.readFileSync)(this.configPath,{encoding:"utf8"});this.config=JSON.parse(this.configRaw)}getMoonrakerSocketUrl(){return this.config.connection.moonraker_socket_url}getMoonrakerUrl(){return this.config.connection.moonraker_url}getMoonrakerApiKey(){return this.config.connection.moonraker_token}getMoonrakerDatabaseNamespace(){return this.config.connection.moonraker_database}getDiscordToken(){return this.config.connection.bot_token}getStatusInterval(){return this.config.status.update_interval}getStatusMinInterval(){return this.config.status.min_interval}isStatusPerPercent(){return this.config.status.use_percent}getStatusBeforeTasks(){return this.config.status.before}getStatusAfterTasks(){return this.config.status.before}getLocale(){return this.config.language.messages}getSyntaxLocale(){return this.config.language.command_syntax}getController(){return this.config.permission.controller}isGuildAdminAsBotAdmin(){return this.config.permission.guild_admin_as_bot_admin}getWebcamUrl(){return this.config.webcam.url}getWebcamQuality(){return this.config.webcam.quality}getWebcamBrightness(){return this.config.webcam.brightness}getWebcamContrast(){return this.config.webcam.contrast}isWebcamVerticalMirrored(){return this.config.webcam.vertical_mirror}isWebcamHorizontalMirrored(){return this.config.webcam.horizontal_mirror}isWebcamGreyscale(){return this.config.webcam.greyscale}isWebcamSepia(){return this.config.webcam.sepia}notifyOnMoonrakerThrottle(){return this.config.system_notifications.moonraker_throttle}}var d=i(692);function logError(e){console.log(getTimeStamp(),e.red)}function logSuccess(e){console.log(getTimeStamp(),e.green)}function logRegular(e){console.log(getTimeStamp(),e.white)}function logEmpty(){console.log("")}function getTimeStamp(){const e=new Date;return`[${e.toISOString()}]`.grey}const p={};function setData(e,s){p[e]=s}function getEntry(e){return p[e]}const m=null&&p;const g=JSON.parse('{"admin":{"role":{"type":"subcommand","options":{"role":{"type":"role","required":true}}},"user":{"type":"subcommand","options":{"user":{"type":"user","required":true}}}},"editchannel":{"channel":{"type":"channel","required":false}},"emergency_stop":{},"execute":{"gcode":{"type":"string","required":true}},"fileinfo":{"file":{"type":"string","required":true}},"get_user_id":{"user":{"type":"user","required":false}},"get_log":{"log_file":{"type":"string","required":true,"choices":[{"name":"Klipper","value":"klipper"},{"name":"Moonraker","value":"moonraker"}]}},"info":{},"listfiles":{},"loadinfo":{"component":{"type":"string","required":true,"choices":"${loadInfoChoices}"}},"notify":{},"printjob":{"pause":{"type":"subcommand"},"cancel":{"type":"subcommand"},"resume":{"type":"subcommand"},"start":{"type":"subcommand","options":{"file":{"type":"string","required":true}}}},"status":{},"temp":{},"timelapse":{}}');const b=JSON.parse('{"subcommand":1,"subcommand_group":2,"string":3,"integer":4,"boolean":5,"user":6,"channel":7,"role":8,"mentionable":9,"number":10}');class DiscordCommandGenerator{constructor(){this.config=new ConfigHelper;this.localeHelper=getLocaleHelper();this.commandList=[];for(const e in g){const s=this.buildCommand(e);this.commandList.push(s)}}getCommands(){return this.commandList}buildCommand(e){const s=this.localeHelper.getLocale().commands[e];const i=this.localeHelper.getSyntaxLocale().commands[e];const a={name:i.command,description:s.description,options:[]};for(const c in g[e]){this.buildCommandOption(a,g[e],c,i,s)}return a}buildCommandOption(e,s,i,a,c){if(typeof s==="undefined"){return}const u=s[i];if(typeof u==="undefined"){return}if(Object.keys(u).length===0){return}const l={type:b[u.type],name:a.options[i].name,description:c.options[i].description,options:[],required:false,choices:[]};l.required=u.required;if(typeof u.choices!=="undefined"){if(u.choices==="${loadInfoChoices}"){}else{l.choices=u.choices}}for(const e in s[i].options){this.buildCommandOption(l,s[i].options,e,a.options[i],c.options[i])}e.options.push(l)}}class DiscordClient{constructor(){this.config=new ConfigHelper;this.moonrakerClient=getMoonrakerClient();this.database=getDatabase();this.commandGenerator=new DiscordCommandGenerator;this.connect()}async connect(){await(0,c.waitUntil)((()=>this.database.isReady()),{timeout:Number.POSITIVE_INFINITY,intervalBetweenAttempts:500});logEmpty();logSuccess("Load Discord Client...");this.discordClient=new u.Client({intents:[u.Intents.FLAGS.DIRECT_MESSAGES,u.Intents.FLAGS.DIRECT_MESSAGE_REACTIONS,u.Intents.FLAGS.GUILDS,u.Intents.FLAGS.GUILD_MESSAGES,u.Intents.FLAGS.GUILD_MESSAGE_REACTIONS,u.Intents.FLAGS.GUILD_INTEGRATIONS]});logRegular("Connect to Discord...");await this.discordClient.login(this.config.getDiscordToken());setData("invite_url",`https://discord.com/oauth2/authorize?client_id=${this.discordClient.user.id}&permissions=3422944320&scope=bot%20applications.commands`);logSuccess(`  ${"Discordbot Connected"}\n            ${"Name:".gray} ${this.discordClient.user.tag.green}\n            ${"Invite:".gray} ${getEntry("invite_url")}`.green)}isConnected(){return this.discordClient.isReady()}getClient(){return this.discordClient}}var _=i(7913);var y=i(6545);var v=i.n(y);class APIKeyHelper{constructor(){this.config=new ConfigHelper}async getOneShotToken(){const e=this.config.getMoonrakerApiKey();const s=this.config.getMoonrakerUrl();if(e===""){return""}logRegular("Retrieve Oneshot Token...");const i=await v().get(`${s}/access/oneshot_token`,{headers:{"X-Api-Key":e}});return i.data.result}}const w={};let E;class MoonrakerClient{constructor(){this.config=new ConfigHelper;this.apiKeyHelper=new APIKeyHelper;this.ready=false;logSuccess("Connect to MoonRaker...");this.connect()}async connect(){const e=await this.apiKeyHelper.getOneShotToken();const s=this.config.getMoonrakerSocketUrl();E=new _.WebsocketBuilder(`${s}?token=${e}`).build();E.addEventListener(_.WebsocketEvents.error,((e,s)=>{logError("Websocket Error:");console.log(s);process.exit(5)}));E.addEventListener(_.WebsocketEvents.open,((e,s)=>{logSuccess("Connected to MoonRaker");this.registerEvents();this.sendInitCommands()}))}async sendInitCommands(){logRegular("Send Initial Commands...");logRegular("Retrieve MoonRaker Update Manager Data...");const e=await this.send(`{"jsonrpc": "2.0", "method": "machine.update.status", "params":{"refresh": "true"}}`,3e5);logRegular("Retrieve Printer Info...");const s=await this.send(`{"jsonrpc": "2.0", "method": "printer.info"}`);logRegular("Retrieve Server Info...");const i=await this.send(`{"jsonrpc": "2.0", "method": "server.info"}`);logRegular("Retrieve Subscribable MoonRaker Objects...");const a=await this.send(`{"jsonrpc": "2.0", "method": "printer.objects.list"}`);const c={};for(const e in a.result.objects){const s=a.result.objects[e];c[s]=null}logRegular("Subscribe to MoonRaker Objects...");const u=await this.send(`{"jsonrpc": "2.0", "method": "printer.objects.subscribe", "params": { "objects":${JSON.stringify(c)}}}`);this.ready=true;setData("updates",e.result);setData("printer_info",s.result);setData("server_info",i.result);setData("state",u.result.status);logSuccess("MoonRaker Client is ready")}registerEvents(){logRegular("Register Events...");E.addEventListener(_.WebsocketEvents.message,((e,s)=>{const i=JSON.parse(s.data);if(typeof i==="undefined"){return}if(typeof i.id==="undefined"){return}w[i.id]=i}))}async send(e,s=1e4){const i=Math.floor(Math.random()*1e4)+1;const a=JSON.parse(e);a.id=i;E.send(JSON.stringify(a));await(0,c.waitUntil)((()=>typeof w[i]!=="undefined"),{timeout:s,intervalBetweenAttempts:500});return w[i]}isReady(){if(!this.isConnected()){return false}return this.ready}isConnected(){if(typeof E==="undefined"){return false}return Boolean(E.underlyingWebsocket.OPEN)}getWebsocket(){return E}}const k={guilds:{},notify:[""]};let C;class DatabaseUtil{constructor(){this.config=new ConfigHelper;this.moonrakerClient=getMoonrakerClient();this.namespace=this.config.getMoonrakerDatabaseNamespace();this.retrieveDatabase()}async retrieveDatabase(){await(0,c.waitUntil)((()=>this.moonrakerClient.isReady()),{timeout:Number.POSITIVE_INFINITY,intervalBetweenAttempts:500});logEmpty();logSuccess("Retrieve Database...");const e=await this.moonrakerClient.send(`{"jsonrpc": "2.0", "method": "server.database.get_item", "params": { "namespace": "${this.namespace}", "key": "dataset"}}`);if(typeof e.error!=="undefined"){await this.handleDatabaseMissing();return}C=e.result.value}async handleDatabaseMissing(){logRegular("generate Database Structure...");C=k;await this.updateDatabase()}async updateDatabase(){const e=await this.moonrakerClient.send(`{"jsonrpc": "2.0", "method": "server.database.post_item", "params": { "namespace": "${this.namespace}", "key": "dataset", "value": ${JSON.stringify(k)}}}`);if(typeof e.error!=="undefined"){logError(`Database Update failed: ${e.error.message}`);return}logSuccess("Database updated")}getDatabaseEntry(e){return C[e]}updateDatabaseEntry(e,s){C[e]=s;this.updateDatabase()}isReady(){return typeof C!=="undefined"}}const S=require("path");var x=i.n(S);class LocaleHelper{constructor(){this.config=new ConfigHelper;this.localePath=x().resolve(__dirname,`../locales/${this.config.getLocale()}.json`);this.syntaxLocalePath=x().resolve(__dirname,`../locales/${this.config.getSyntaxLocale()}.json`);const e=(0,l.readFileSync)(this.localePath,{encoding:"utf8"});const s=(0,l.readFileSync)(this.syntaxLocalePath,{encoding:"utf8"});this.locale=JSON.parse(e);this.syntaxLocale=JSON.parse(s)}getLocale(){return this.locale}getSyntaxLocale(){return this.syntaxLocale}getAdminOnlyError(e){return this.locale.errors.admin_only.replace(/(\${username})/g,e)}getControllerOnlyError(e){return this.locale.errors.controller_only.replace(/(\${username})/g,e)}getGuildOnlyError(e){return this.locale.errors.guild_only.replace(/(\${username})/g,e)}getCommandNotReadyError(e){return this.locale.errors.not_ready.replace(/(\${username})/g,e)}}logSuccess(`Starting ${a.u2} ${a.i8}...`);logEmpty();Object.assign(global,{WebSocket:i(8867)});const O=new LocaleHelper;const R=new MoonrakerClient;const T=new DatabaseUtil;const L=new DiscordClient;function getMoonrakerClient(){return R}function getDiscordClient(){return L}function getDatabase(){return T}function getLocaleHelper(){return O}},696:e=>{"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},2357:e=>{"use strict";e.exports=require("assert")},6417:e=>{"use strict";e.exports=require("crypto")},8614:e=>{"use strict";e.exports=require("events")},8605:e=>{"use strict";e.exports=require("http")},7211:e=>{"use strict";e.exports=require("https")},1631:e=>{"use strict";e.exports=require("net")},2087:e=>{"use strict";e.exports=require("os")},1765:e=>{"use strict";e.exports=require("process")},2413:e=>{"use strict";e.exports=require("stream")},4016:e=>{"use strict";e.exports=require("tls")},3867:e=>{"use strict";e.exports=require("tty")},8835:e=>{"use strict";e.exports=require("url")},1669:e=>{"use strict";e.exports=require("util")},8761:e=>{"use strict";e.exports=require("zlib")}};var s={};function __nccwpck_require__(i){var a=s[i];if(a!==undefined){return a.exports}var c=s[i]={exports:{}};var u=true;try{e[i].call(c.exports,c,c.exports,__nccwpck_require__);u=false}finally{if(u)delete s[i]}return c.exports}(()=>{__nccwpck_require__.n=e=>{var s=e&&e.__esModule?()=>e["default"]:()=>e;__nccwpck_require__.d(s,{a:s});return s}})();(()=>{__nccwpck_require__.d=(e,s)=>{for(var i in s){if(__nccwpck_require__.o(s,i)&&!__nccwpck_require__.o(e,i)){Object.defineProperty(e,i,{enumerable:true,get:s[i]})}}}})();(()=>{__nccwpck_require__.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s)})();(()=>{__nccwpck_require__.r=e=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}})();if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var i=__nccwpck_require__(1313);module.exports=i})();