[include test.cfg]
# comment test

[connection]
moonraker_socket_url:
moonraker_url: http://127.0.0.1
moonraker_token:
moonraker_retry_interval: 2
bot_token:
discord_request_timeout: 30

[logger]
disable_file:false
tmp_path:/tmp/mooncord_fallback
path:

[status]
update_interval: 10
use_percent: true
min_interval: 15
gcode_timeout: 600

[webcam]
url: http://127.0.0.1/webcam/?action:snapshot
quality: 80
rotation: 0
brightness: 0
contrast: 0
vertical_mirror: false
horizontal_mirror: false
greyscale: false
sepia: false
before_snapshot_commands:
enable_before_snapshot_commands: false
delay_before_snapshot_commands: 0
after_snapshot_commands:
enable_after_snapshot_commands: false
delay_after_snapshot_commands: 0

[message]
show_no_permission_private: true
icon_set: acryl
page_entries: 15

[general]
temp_unit: ¬∞C
custom_info: Thanks for installing MoonCord and Happy Printing ‚ù§

[language]
date_locale: de-DE
messages: en
commands: en
buttons_use_commands_language: false

[button next_page_configs_download]
emoji: ‚û°Ô∏è
style: SECONDARY
bot_admin: false
guild_admin: false
users:
roles:
functions:
- page_up: true

[button last_page_configs_download]
emoji: ‚¨ÖÔ∏è
style: SECONDARY
bot_admin: false
guild_admin: false
users:
roles:
functions:
- page_up: false

[reaction delete]
emoji:
- üóëÔ∏è
- üßπ
bot_admin: true
guild_admin: false
users:
roles:
functions:
- delete_message: true

[textinput gcode_input]
style: PARAGRAPH
value: ''
required: true

[textinput temp_target_input]
style: SHORT
value: '0'
required: true

[button next_page_printlist]
emoji: ‚û°Ô∏è
style: SECONDARY
bot_admin: true
guild_admin: false
users:
roles:
functions:
- page_up: true

[button last_page_printlist]
emoji: ‚¨ÖÔ∏è
style: SECONDARY
bot_admin: true
guild_admin: false
users:
roles:
functions:
- page_up: false

[button next_page_timelapselist]
emoji: ‚û°Ô∏è
style: SECONDARY
bot_admin: true
guild_admin: false
users:
roles:
functions:
- page_up: true

[button last_page_timelapselist]
emoji: ‚¨ÖÔ∏è
style: SECONDARY
bot_admin: true
guild_admin: false
users:
roles:
functions:
- page_up: false

[button printjob_resume]
emoji:‚ñ∂Ô∏è
style: PRIMARY
bot_admin: true
guild_admin: false
users:
roles:
required_states:
- pause
macros:
- RESUME
message: ${locale.messages.answers.printjob_resume.status_valid}

[button printjob_cancel]
emoji: ‚õî
style: DANGER
bot_admin: true
guild_admin: false
users:
roles:
required_states:
- pause
- printing
embed: printjob_cancel_request

[button printjob_pause]
emoji: ‚òï
style: SECONDARY
bot_admin: true
guild_admin: false
users:
roles:
required_states:
- printing
macros:
- PAUSE
message: ${locale.messages.answers.printjob_pause.status_valid}

[button clear_file]
emoji: üßπ
style: SECONDARY
bot_admin: true
guild_admin: false
users:
roles:
required_states:
- complete
- ready
macros:
- SDCARD_RESET_FILE
message: ${locale.messages.answers.printjob_clear}

[button printjob_refresh]
emoji: üîÑ
style: PRIMARY
bot_admin: true
guild_admin: true
users: *
roles:
functions:
- refresh_status: true

[button printjob_status]
emoji: üñ®Ô∏è
style: PRIMARY
bot_admin: true
guild_admin: true
users: *
roles:
functions:
- refresh_status: true

[button to_printlist]
emoji: üìò
style: SECONDARY
bot_admin: true
guild_admin: false
users:
roles:
list: gcode_files

[button to_timelapselist]
emoji: üìò
style: SECONDARY
bot_admin: true
guild_admin: false
users:
roles:
list: timelapse_files

[button to_temps]
emoji: üå°Ô∏è
style: SECONDARY
bot_admin: true
guild_admin: false
users:
roles:
embed: temperatures

[button change_temp]
emoji: ‚ô®
style: SECONDARY
bot_admin: true
guild_admin: false
users:
roles:
modal: temp_modal

[button printjob_delete_accept]
style: DANGER
bot_admin: true
guild_admin: false
users:
roles:
functions:
- delete: true
- root_path: gcodes

[button printjob_delete_deny]
style: SUCCESS
bot_admin: true
guild_admin: false
users:
roles:
message: ${locale.messages.answers.printjob_delete_abort}

[button klipper_restart]
style: PRIMARY
emoji: üîÑ
bot_admin: true
guild_admin: true
users:
roles:
macros:
- FIRMWARE_RESTART
message: ${locale.messages.answers.firmware_restart_successful}

[button update_refresh]
style: PRIMARY
emoji: üîÑ
bot_admin: true
guild_admin: true
users:
roles:
websocket_requests:
- {"method": "machine.update.status", "params": {"refresh": true}}
embed: system_update

[button update_refresh_systeminfo]
style: PRIMARY
emoji: üîÑ
bot_admin: true
guild_admin: true
users:
roles:
websocket_requests:
- {"method": "machine.update.status", "params": {"refresh": true}}
embed: systeminfo_update

[button update_system]
style: PRIMARY
emoji: üîº
bot_admin: true
guild_admin: true
users:
roles:
websocket_requests:
- {"method": "machine.update.full"}
message: ${locale.messages.answers.update_request}
functions:
- message_as_follow_up:true

[button printjob_request_accept]
style: SUCCESS
bot_admin: true
guild_admin: false
users:
roles:
required_states:
- ready
message: ${locale.messages.answers.printjob_executed}
functions:
- start_print:true

[button printjob_request_deny]
style: DANGER
bot_admin: true
guild_admin: false
users:
roles:
message: ${locale.messages.answers.printjob_request_abort}

[button cancel_request_accept]
style: DANGER
bot_admin: true
guild_admin: false
users:
roles:
required_states:
- printing
- pause
message: ${locale.messages.answers.printjob_cancel.status_valid}
macros:
- CANCEL_PRINT

[button cancel_request_deny]
style: SUCCESS
bot_admin: true
guild_admin: false
users:
roles:
message: ${locale.messages.answers.printjob_request_abort}

[select_menu exclude_objects]
bot_admin: true
guild_admin: false
users:
roles:
min_value: 1
max_value: 1
option_value: ${data.value}
data: ${raw_entries}
exclude_options: true

[select_menu config_file_download]
bot_admin: false
guild_admin: false
users:
roles:
min_value: 1
max_value: 1
option_value: ${data.name}
data: ${raw_entries}

[select_menu timelapse_download]
bot_admin: true
guild_admin: false
users:
roles:
min_value: 1
max_value: 1
option_value: ${data.path}
data: ${raw_entries}

[select_menu systeminfo_select]
bot_admin: true
guild_admin: false
users:
roles:
min_value: 1
max_value: 1
option_value: ${data.value}
data: ${raw_entries}
mcu_options: true

[select_menu printlist_view_printjob]
bot_admin: true
guild_admin: false
users:
roles:
min_value: 1
max_value: 1
option_value: ${data.path}
data: ${raw_entries}

[select_menu show_temp]
bot_admin: true
guild_admin: false
users:
roles:
min_value: 1
max_value: 1
option_value: ${data.value}
data: ${raw_entries}
heater_options: true

[command admin]
bot_admin: false
guild_admin: false
users:
roles:

[command dump]
bot_admin: false
guild_admin: false
users:
roles:

[command reset_database]
bot_admin: false
guild_admin: false
users:
roles:

[command editchannel]
bot_admin: true
guild_admin: true
users:
roles:

[command emergency_stop]
bot_admin: true
guild_admin: false
users:
roles:

[command restart]
bot_admin: true
guild_admin: false
users:
roles:

[command execute]
bot_admin: false
guild_admin: false
users:
roles:

[command fileinfo]
bot_admin: true
guild_admin: false
users:
roles:

[command get_user_id]
bot_admin: true
guild_admin: true
users: *
roles:

[command get_log]
bot_admin: true
guild_admin: false
users:
roles:

[command info]
bot_admin: true
guild_admin: true
users: *
roles:

[command listgcodes]
bot_admin: true
guild_admin: false
users:
roles:

[command notify]
bot_admin: true
guild_admin: true
users:
roles:

[command printjob]
bot_admin: true
guild_admin: false
users:
roles:

[command status]
bot_admin: true
guild_admin: true
users: *
roles:

[command systeminfo]
bot_admin: true
guild_admin: false
users:
roles:

[command temp]
bot_admin: true
guild_admin: false
users:
roles:

[command history]
bot_admin: true
guild_admin: false
users:
roles:

[command preheat]
bot_admin: false
guild_admin: false
users:
roles:

[command pidtune]
bot_admin: false
guild_admin: false
users:
roles:

[command config]
bot_admin: false
guild_admin: false
users:
roles:

[command tune]
bot_admin: false
guild_admin: false
users:
roles:

[notifications]
moonraker_throttle: true
timelapse: true
embed_blacklist:
gcode_notifications: true
gcode_blacklist:
- /(Rendering (\||\/|-|\\))/g
- /^.*(Time Left).*$/g
gcode_whitelist:
temp_notifications: false
temp_notification_offset: 0
temp_notification_duration: 5
temp_notification_delay: 30

[develop]
dump_cache_on_start: false
trace_on_web_error: false

[preset ABS]
extruder: 260
heater_bend: 100
gcode:

[preset PLA]
extruder: 180
heater_bend: 60
gcode:

[preset Cooldown]
extruder: 0
heater_bend: 0
gcode:

[embed execute_unknown]
thumbnail: execute.png
color: c90000

[embed execute_error]
thumbnail: execute.png
color: c90000

[embed execute_successful]
thumbnail: execute.png
color: 25db00

[embed fileinfo]
author: ${filename}
color: 0099ff
buttons:
- printjob_start
- printjob_delete_request
- to_printlist

[embed configs_download]
thumbnail: download.png
color: 00FF00
buttons:
- last_page_configs_download
- next_page_configs_download
select_menus:
- config_file_download

[embed gcode_files]
color: 0099ff
thumbnail: printlist.png
buttons:
- last_page_printlist
- next_page_printlist
select_menus:
- printlist_view_printjob

[embed timelapse_files]
color: 0099ff
thumbnail: printlist.png
buttons:
- last_page_timelapselist
- next_page_timelapselist
select_menus:
- timelapse_download

[embed info]
color: 0099ff
thumbnail: logo.png

[embed history]
image: historyGraph
color: 0099ff
field1_name: ${embeds.fields.total_jobs}
field1_value: ${history.total.job_totals.total_jobs}
field2_name: ${embeds.fields.total_time}
field2_value: ${formatTime:history.total.job_totals.total_time}
field3_name: ${embeds.fields.total_print_time}
field3_value: ${formatTime:history.total.job_totals.total_print_time}
field4_name: ${embeds.fields.total_filament_used}
field4_value: ${reduce:1000:2:history.total.job_totals.total_filament_used}m
field5_name: ${embeds.fields.longest_job}
field5_value: ${formatTime:history.total.job_totals.longest_job}
field6_name: ${embeds.fields.longest_print}
field6_value: ${formatTime:history.total.job_totals.longest_print}
partials:
- print_history

[embed notification]
color: 03f4fc
thumbnail: notification.png
description: ${message}

[embed printjob_cancel_request]
color: c90000
thumbnail: thumbnail
author: ${state.print_stats.filename}
image: webcam
field1_name: ${embeds.fields.print_time}
field1_value: ${formatTime:time.duration}
field2_name: ${embeds.fields.print_left_time}
field2_value: ${formatTime:time.left}
field3_name: ${embeds.fields.eta_print_time}
field3_value: ${timestamp:time.eta}
field4_name: ${embeds.fields.print_progress}
field4_value: ${percent:0:function.current_percent}%
field5_name: ${embeds.fields.print_layers}
field5_value: ${layers.current}/${layers.top}
buttons:
- cancel_request_accept
- cancel_request_deny

[embed printjob_start_request]
color: 0099ff
author: ${filename}
buttons:
- printjob_request_accept
- printjob_request_deny
- to_printlist

[embed printjob_delete_request]
color: c90000
author: ${filename}
buttons:
- printjob_delete_deny
- printjob_delete_accept
- to_printlist

[embed printjob_start]
color: 25db00
author: ${state.print_stats.filename}
thumbnail: thumbnail
image: webcam
field1_name: ${embeds.fields.print_left_time}
field1_value: ${formatTime:time.left}
field2_name: ${embeds.fields.eta_print_time}
field2_value: ${timestamp:time.eta}
field3_name: ${embeds.fields.speed}
field3_value: ${percent:0:state.gcode_move.speed_factor}%
field4_name: ${embeds.fields.flow}
field4_value: ${percent:0:state.gcode_move.extrude_factor}%
partials:
- minimal_temps

[embed printjob_complete]
color: 25db00
author: ${state.print_stats.filename}
thumbnail: thumbnail
image: webcam
buttons:
- clear_file
field1_name: ${embeds.fields.print_time}
field1_value: ${formatTime:time.duration}

[embed printjob_pause]
color: dbd400
author: ${state.print_stats.filename}
thumbnail: thumbnail
image: webcam
buttons:
- printjob_resume
- printjob_cancel
- printjob_exclude
field1_name: ${embeds.fields.print_time}
field1_value: ${formatTime:time.duration}
field2_name: ${embeds.fields.print_left_time}
field2_value: ${formatTime:time.left}
field3_name: ${embeds.fields.print_progress}
field3_value: ${percent:0:function.current_percent}%
field4_name: ${embeds.fields.print_layers}
field4_value: ${layers.current}/${layers.top}
field5_name: ${embeds.fields.speed}
field5_value: ${percent:0:state.gcode_move.speed_factor}%
field6_name: ${embeds.fields.flow}
field6_value: ${percent:0:state.gcode_move.extrude_factor}%
partials:
- minimal_temps

[embed printjob_printing]
color: 0099ff
author: ${state.print_stats.filename}
thumbnail: thumbnail
image: webcam
buttons:
- printjob_pause
- printjob_cancel
- printjob_exclude
- printjob_refresh
field1_name: ${embeds.fields.print_time}
field1_value: ${formatTime:time.duration}
field2_name: ${embeds.fields.print_left_time}
field2_value: ${formatTime:time.left}
field3_name: ${embeds.fields.print_progress}
field3_value: ${percent:0:function.current_percent}%
field4_name: ${embeds.fields.print_layers}
field4_value: ${layers.current}/${layers.top}
field5_name: ${embeds.fields.speed}
field5_value: ${percent:0:state.gcode_move.speed_factor}%
field6_name: ${embeds.fields.flow}
field6_value: ${percent:0:state.gcode_move.extrude_factor}%
partials:
- minimal_temps

[embed printjob_stop]
color: c90000
author: ${meta_data.filename}
thumbnail: thumbnail
image: webcam
field1_name: ${embeds.fields.print_time}
field1_value: ${formatTime:time.duration}
field2_name: ${embeds.fields.print_progress}
field2_value: ${percent:0:function.current_percent}%
field3_name: ${embeds.fields.print_layers}
field3_value: ${layers.current}/${layers.top}
partials:
- minimal_temps

[embed exclude_overview]
color: 0099ff
thumbnail: exclude.png
image: excludeGraph
select_menus:
- exclude_objects
buttons:
- printjob_status

[embed exclude_detail]
color: 0099ff
thumbnail: exclude.png
select_menus:
- exclude_objects
buttons:
- exclude_confirm
- printjob_status

[embed temperatures]
color: 0099ff
thumbnail: temps.png
image: tempGraph
buttons:
- change_temp
select_menus:
- show_temp
partials:
- temps

[embed single_temperature]
color: 0099ff
thumbnail: temps.png
buttons:
- to_temps
- change_temp
partials:
- temps

[embed disconnected]
color: c90000
image: webcam
buttons:
- klipper_restart

[embed moonraker_disconnected]
color: c90000
buttons:
- reconnect

[embed error]
description: ```${state_message}```
color: c90000
buttons: klipper_restart
partials
- minimal_temp

[embed offline]
color: c90000

[embed shutdown]
color: c90000
image: webcam
description: ```${state_message}```
buttons:
- klipper_restart

[embed systeminfo_cpu]
color: 0099ff
thumbnail: cpu.png
select_menus:
- systeminfo_select
field1_name: ${embeds.fields.cores}
field1_value: ${machine_info.system_info.cpu_info.cpu_count}
field2_name: ${embeds.fields.arch}
field2_value: ${machine_info.system_info.cpu_info.processor}
field3_name: ${embeds.fields.model}
field3_value: ${machine_info.system_info.cpu_info.model}
field4_name: ${embeds.fields.desc}
field4_value: ${machine_info.system_info.cpu_info.cpu_desc}
field5_name: ${embeds.fields.chipset}
field5_value: ${machine_info.system_info.cpu_info.hardware_desc}
field6_name: ${embeds.fields.bits}
field6_value: ${machine_info.system_info.cpu_info.bits}
field7_name: ${embeds.fields.temp}
field7_value: ${proc_stats.cpu_temp} ¬∞C

[embed systeminfo_memory]
color: 0099ff
thumbnail: memory.png
select_menus:
- systeminfo_select
field1_name: ${embeds.fields.total_ram}
field1_value: ${usage.total_ram} GB
field2_name: ${embeds.fields.used_ram}
field2_value: ${usage.used_ram} GB
field3_name: ${embeds.fields.free_ram}
field3_value: ${usage.free_ram} GB
field4_name: ${embeds.fields.manufacturer}
field4_value: ${machine_info.system_info.sd_info.manufacturer}
field5_name: ${embeds.fields.manufactured}
field5_value: ${machine_info.system_info.sd_info.manufacturer_date}
field6_name: ${embeds.fields.model}
field6_value: ${machine_info.system_info.sd_info.product_name} ${machine_info.system_info.sd_info.product_revision}
field7_name: ${embeds.fields.total_disk}
field7_value: ${usage.total_disk} GB
field8_name: ${embeds.fields.used_disk}
field8_value: ${usage.used_disk} GB
field9_name: ${embeds.fields.free_disk}
field9_value: ${usage.free_disk} GB

[embed systeminfo_system]
color: 0099ff
thumbnail: system.png
select_menus:
- systeminfo_select
field1_name: ${embeds.fields.system_load}
field1_value: ${usage.system_load} %
field2_name: ${embeds.fields.distribution}
field2_value: ${machine_info.system_info.distribution.name}
field3_name: ${embeds.fields.codename}
field3_value: ${machine_info.system_info.distribution.codename}
field4_name: ${embeds.fields.distribution_like}
field4_value: ${machine_info.system_info.distribution.like}

[embed systeminfo_discord]
color: 0099ff
thumbnail: discord.png
select_menus:
- systeminfo_select
field1_name: ${embeds.fields.ping}
field1_value: ${discord_client.ping} ms
field2_name: ${embeds.fields.client_id}
field2_value: ${discord_client.clientId}
field3_name: ${embeds.fields.event_count}
field3_value: ${discord_client.event_count}
field4_name: ${embeds.fields.ready_since}
field4_value: <t:${round:0:discord_client.readySince}>

[embed systeminfo_moonraker_client]
color: 0099ff
thumbnail: system.png
select_menus:
- systeminfo_select
field1_name: ${embeds.fields.event_count}
field1_value: ${moonraker_client.event_count}
field2_name: ${embeds.fields.ready_since}
field2_value: <t:${round:0:moonraker_client.readySince}>

[embed systeminfo_power_devices]
color: 0099ff
thumbnail: power-devices.png
select_menus:
- systeminfo_select
partials:
- power_devices

[embed systeminfo_moonraker]
color: 0099ff
thumbnail: system.png
select_menus:
- systeminfo_select
field1_name: ${embeds.fields.active_connections}
field1_value: ${server_info.websocket_count}
field2_name: ${embeds.fields.moonraker_load}
field2_value: ${proc_stats.moonraker_stats.cpu_usage} %
field3_name: ${embeds.fields.version}
field3_value: ${server_info.moonraker_version}

[embed systeminfo_klipper]
color: 0099ff
thumbnail: mcu.png
select_menus:
- systeminfo_select
field1_name: ${embeds.fields.klipper_load}
field1_value: ${usage.klipper_load} %
field2_name: ${embeds.fields.version}
field2_value: ${printer_info.software_version}

[embed systeminfo_mcu]
color: 0099ff
thumbnail: mcu.png
select_menus:
- systeminfo_select
field1_name: ${embeds.fields.chipset}
field1_value: ${mcu_chipset}
field2_name: ${embeds.fields.load}
field2_value: ${mcu_load} %
field3_name: ${embeds.fields.awake_time}
field3_value: ${mcu_awake} s
field4_name: ${embeds.fields.frequency}
field4_value: ${mcu_freq} MHz
field5_name: ${embeds.fields.version}
field5_value: ${mcu_version}

[embed systeminfo_update]
color: fbff00
thumbnail: update.png
select_menus:
- systeminfo_select
buttons:
- update_system
- update_refresh_systeminfo
partials:
- updates

[embed ready]
color: 0099ff
image: webcam
partials:
- versions

[embed startup]
color: 0099ff

[embed throttle_under_voltage_detected]
color: c90000
thumbnail: warning.png

[embed throttle_temperature_limit_active]
color: c90000
thumbnail: warning.png

[embed throttle_frequency_capped]
color: c90000
thumbnail: warning.png

[embed system_update]
color: fbff00
thumbnail: update.png
buttons:
- update_system
- update_refresh
partials:
- updates

[modal execute_modal]
bot_admin: false
guild_admin: false
users:
roles:
textinputs:
- gcode_input

[modal temp_target]
bot_admin: true
guild_admin: false
users:
roles:
textinputs:
- temp_textinputs

[status disconnected]
embed_id: disconnected
allow_same: false
prevent:
activity_status: dnd
activity_type: LISTENING

[status moonraker_disconnected]
embed_id: moonraker_disconnected
allow_same: false
prevent:
activity_status: dnd
activity_type: LISTENING

[status error]
embed_id: error
allow_same: false
prevent:
activity_status: dnd
activity_type: LISTENING

[status offline]
embed_id: offline
allow_same: false
prevent:
activity_status: dnd
activity_type: LISTENING

[status shutdown]
embed_id: shutdown
allow_same: false
prevent:
- pause
activity_status: dnd
activity_type: LISTENING

[status stop]
embed_id: printjob_stop
allow_same: false
prevent:
activity_status: idle
activity_type: LISTENING

[status botstart]
embed_id: startup
allow_same: false
prevent:
activity_status: idle
activity_type: LISTENING

[status ready]
embed_id: ready
allow_same: false
prevent:
- startup
- stop
activity_status: idle
activity_type: LISTENING

[status startup]
embed_id: startup
allow_same: false
prevent:
- disconnected
activity_status: idle
activity_type: WATCHING

[status start]
embed_id: printjob_start
allow_same: false
prevent:
activity_status: online
activity_type: LISTENING

[status complete]
embed_id: printjob_complete
cooldown: 2
allow_same: false
prevent:
activity_status: idle
activity_type: LISTENING

[status pause]
embed_id: printjob_pause
cooldown: 2
allow_same: false
prevent:
- start
activity_status: idle
activity_type: PLAYING

[status printing]
embed_id: printjob_printing
allow_same: true
prevent:
- start
activity_status: online
activity_type: WATCHING

[icon power_device_on]
icon: üü¢

[icon power_device_off]
icon: üî¥

[icon cold]
icon: ‚ùÑ

[icon slow_fan]
icon: üîÜ

[icon temp_sensor]
icon: üå°

[icon hot]
icon: ‚ô®

[icon fast_fan]
icon: üåÄ

[icon klippy_shutdown]
list_icon: ‚ùó
icon: üî¥
color: dd2e44

[icon error]
list_icon: ‚ùó
icon: üü†
color: f4900c

[icon cancelled]
list_icon: ‚õî
icon: üü°
color: fdcb58

[icon completed]
list_icon: ‚úÖ
icon: üü¢
color: 78b159

[icon in_progress]
list_icon: ‚è±Ô∏è
icon: üü£
color: aa8ed6

[icon temp1]
icon: üî¥
color: dd2e44

[icon temp2]
icon: üîµ
color: 55acee

[icon temp3]
icon: üü§
color: c1694f

[icon temp4]
icon: üü£
color: aa8ed6

[icon temp5]
icon: üü¢
color: 78b159

[icon temp6]
icon: üü°
color: fdcb58

[icon temp7]
icon: üü†
color: f4900c