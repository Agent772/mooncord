<html>
<head>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet"> 
    <style>
        .progress-ring {
        
        }
        .progress-ring__circle {
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
    </style>
</head>
<body style="margin:0;height:1080;width:1920">
    <img src="{{webcam}}" style="height: 100%; width: 100%;"/>
    <div style="width: 170px;height: 200px;position: absolute;top: 20px;left: 430px;border-radius: 55px;background-color: #29028d;"></div>
    <div style="width: 500px;height: 200px;position: absolute;top: 20px;left: 20px;border-radius: 55px;background-color: #343434;"></div>
    <div style="font-family: 'Roboto', sans-serif;font-size: 50px;position: absolute;left: 68px;top: 58px;height: 10px;color: white;text-align: right;">Printer ready!</div>
    <div style="font-family: 'Roboto', sans-serif;font-size: 50px;position: absolute;left: 68px;top: 118px;height: 10px;color: white;text-align: right;">{{klipper_version}}</div>
    <div style="font-family: 'Roboto', sans-serif;font-size: 69px;position: absolute;left: 514px;top: 71px;height: 10px;color: white;text-align: center;width: 92;">&#10004;</div>
    <img src="{{overlay}}" style="position:absolute;"/>
    <img src="{{webcam}}" style="height: 100%; width: 100%;"/>
    <div style="position:absolute;right:20px;top:20px;height:10px"><img height="200px" width="200px" src="{{thumbnail}}"/></div>
    <div style="font-family: 'Roboto', sans-serif;font-size: 50px;position: absolute;right: 222px;top: 20px;height: 10px;color: white;width: 350px;text-align: center;">Print Stopped!</div>
    <div style="font-family: 'Roboto', sans-serif;font-size: 40px;position: absolute;right: 248px;top: 72px;height: 10px;color: white;width: 176px;text-align: center;"></div>
    <div style="font-family: 'Roboto', sans-serif;font-size: 78px;position: absolute;left: 44px;top: 37px;height: 10px;color: white;text-align: center;width: 92;">&#9632;</div>
    <div style="text-shadow: 3px 3px 0px black;font-family: 'Roboto', sans-serif;font-size: 50px;position: absolute;left: 416px;top: 14px;height: 10px;color: white;width: 710px;text-align: center;">{{file}}</div>
    <div style="position:absolute;left:20px;top:20px;height:10px">
    <svg
        class="progress-ring"
        width="140"
        height="140">
        <circle
            class="progress-ring__circle"
            stroke="#2f2f2f"
            stroke-width="10"
            fill="transparent"
            r="62"
            cx="70"
            cy="70"
            id=""/>
        <circle
            class="progress-ring__circle"
            stroke="#f00"
            stroke-width="10"
            fill="transparent"
            r="62"
            cx="70"
            cy="70"
            id="circle"/>
        </svg>
    </div>
    <script type="text/javascript">
        var circle = document.getElementById('circle');
        var radius = circle.r.baseVal.value;
        var circumference = radius * 2 * Math.PI;

        circle.style.strokeDasharray = `${circumference} ${circumference}`;
        circle.style.strokeDashoffset = `${circumference}`;

        function setProgress(percent) {
            const offset = circumference - percent / 100 * circumference;
            circle.style.strokeDashoffset = offset;
        }
        setProgress({{progress}})
    </script>
</body>
</html>